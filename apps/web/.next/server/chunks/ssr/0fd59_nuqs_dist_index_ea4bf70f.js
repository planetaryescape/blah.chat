module.exports=[689024,a=>{"use strict";var b=a.i(891907),c=a.i(849270),d=a.i(537500);function e(a,b,d){try{return a(b)}catch(a){return(0,c.l)("[nuqs] Error while parsing value `%s`: %O"+(d?" (for key `%s`)":""),b,a,d),null}}function f(a){function b(b){if(void 0===b)return null;let c="";if(Array.isArray(b)){if(void 0===b[0])return null;c=b[0]}return"string"==typeof b&&(c=b),e(a.parse,c)}return{type:"single",eq:(a,b)=>a===b,...a,parseServerSide:b,withDefault(a){return{...this,defaultValue:a,parseServerSide:c=>b(c)??a}},withOptions(a){return{...this,...a}}}}let g=f({parse:a=>a,serialize:String}),h=f({parse:a=>{let b=parseInt(a);return b==b?b:null},serialize:a=>""+Math.round(a)});f({parse:a=>{let b=parseInt(a);return b==b?b-1:null},serialize:a=>""+Math.round(a+1)}),f({parse:a=>{let b=parseInt(a,16);return b==b?b:null},serialize:a=>{let b=Math.round(a).toString(16);return(1&b.length?"0":"")+b}}),f({parse:a=>{let b=parseFloat(a);return b==b?b:null},serialize:String});let i=f({parse:a=>"true"===a.toLowerCase(),serialize:String});function j(a,b){return a.valueOf()===b.valueOf()}function k(a){return l(a)}function l(a){return f({parse:b=>a.includes(b)?b:null,serialize:String})}function m(a,b=","){let c=a.eq??((a,b)=>a===b),d=encodeURIComponent(b);return f({parse:c=>""===c?[]:c.split(b).map((c,f)=>e(a.parse,c.replaceAll(d,b),`[${f}]`)).filter(a=>null!=a),serialize:c=>c.map(c=>(a.serialize?a.serialize(c):String(c)).replaceAll(b,d)).join(b),eq:(a,b)=>a===b||a.length===b.length&&a.every((a,d)=>c(a,b[d]))})}f({parse:a=>{let b=parseInt(a);return b==b?new Date(b):null},serialize:a=>""+a.valueOf(),eq:j}),f({parse:a=>{let b=new Date(a);return b.valueOf()==b.valueOf()?b:null},serialize:a=>a.toISOString(),eq:j}),f({parse:a=>{let b=new Date(a.slice(0,10));return b.valueOf()==b.valueOf()?b:null},serialize:a=>a.toISOString().slice(0,10),eq:j});let n=(0,b.r)(),o={};function p(a,e={}){let f=(0,d.useId)(),g=(0,c.i)(),h=(0,c.a)(),{history:i="replace",scroll:j=g?.scroll??!1,shallow:k=g?.shallow??!0,throttleMs:l=b.s.timeMs,limitUrlUpdates:m=g?.limitUrlUpdates,clearOnDefault:s=g?.clearOnDefault??!0,startTransition:t,urlKeys:u=o}=e,v=Object.keys(a).join(","),w=(0,d.useMemo)(()=>Object.fromEntries(Object.keys(a).map(a=>[a,u[a]??a])),[v,JSON.stringify(u)]),x=(0,c.r)(Object.values(w)),y=x.searchParams,z=(0,d.useRef)({}),A=(0,d.useMemo)(()=>Object.fromEntries(Object.keys(a).map(b=>[b,a[b].defaultValue??null])),[Object.values(a).map(({defaultValue:a})=>a).join(",")]),B=b.t.useQueuedQueries(Object.values(w)),[C,D]=(0,d.useState)(()=>q(a,u,y??new URLSearchParams,B).state),E=(0,d.useRef)(C);if((0,c.c)("[nuq+ %s `%s`] render - state: %O, iSP: %s",f,v,C,y),Object.keys(z.current).join("&")!==Object.values(w).join("&")){let{state:b,hasChanged:d}=q(a,u,y,B,z.current,E.current);d&&((0,c.c)("[nuq+ %s `%s`] State changed: %O",f,v,{state:b,initialSearchParams:y,queuedQueries:B,queryRef:z.current,stateRef:E.current}),E.current=b,D(b)),z.current=Object.fromEntries(Object.entries(w).map(([b,c])=>[c,a[b]?.type==="multi"?y?.getAll(c):y?.get(c)??null]))}(0,d.useEffect)(()=>{let{state:b,hasChanged:d}=q(a,u,y,B,z.current,E.current);d&&((0,c.c)("[nuq+ %s `%s`] State changed: %O",f,v,{state:b,initialSearchParams:y,queuedQueries:B,queryRef:z.current,stateRef:E.current}),E.current=b,D(b))},[Object.values(w).map(a=>`${a}=${y?.getAll(a)}`).join("&"),JSON.stringify(B)]),(0,d.useEffect)(()=>{let b=Object.keys(a).reduce((b,d)=>(b[d]=({state:b,query:e})=>{D(g=>{let{defaultValue:h}=a[d],i=w[d],j=b??h??null;return Object.is(g[d]??h??null,j)?((0,c.c)("[nuq+ %s `%s`] Cross-hook key sync %s: %O (default: %O). no change, skipping, resolved: %O",f,v,i,b,h,E.current),g):(E.current={...E.current,[d]:j},z.current[i]=e,(0,c.c)("[nuq+ %s `%s`] Cross-hook key sync %s: %O (default: %O). updateInternalState, resolved: %O",f,v,i,b,h,E.current),E.current)})},b),{});for(let d of Object.keys(a)){let a=w[d];(0,c.c)("[nuq+ %s `%s`] Subscribing to sync for `%s`",f,a,v),n.on(a,b[d])}return()=>{for(let d of Object.keys(a)){let a=w[d];(0,c.c)("[nuq+ %s `%s`] Unsubscribing to sync for `%s`",f,a,v),n.off(a,b[d])}}},[v,w]);let F=(0,d.useCallback)((d,e={})=>{let g,o=Object.fromEntries(Object.keys(a).map(a=>[a,null])),p="function"==typeof d?d(r(E.current,A))??o:d??o;(0,c.c)("[nuq+ %s `%s`] setState: %O",f,v,p);let q=0,u=!1,y=[];for(let[d,f]of Object.entries(p)){let o=a[d],p=w[d];if(!o||void 0===f)continue;(e.clearOnDefault??o.clearOnDefault??s)&&null!==f&&void 0!==o.defaultValue&&(o.eq??((a,b)=>a===b))(f,o.defaultValue)&&(f=null);let r=null===f?null:(o.serialize??String)(f);n.emit(p,{state:f,query:r});let v={key:p,query:r,options:{history:e.history??o.history??i,shallow:e.shallow??o.shallow??k,scroll:e.scroll??o.scroll??j,startTransition:e.startTransition??o.startTransition??t}};if(e?.limitUrlUpdates?.method==="debounce"||m?.method==="debounce"||o.limitUrlUpdates?.method==="debounce"){!0===v.options.shallow&&console.warn((0,c.s)(422));let a=e?.limitUrlUpdates?.timeMs??m?.timeMs??o.limitUrlUpdates?.timeMs??b.s.timeMs,d=b.t.push(v,a,x,h);q<a&&(g=d,q=a)}else{let a=e?.limitUrlUpdates?.timeMs??o?.limitUrlUpdates?.timeMs??m?.timeMs??e.throttleMs??o.throttleMs??l;y.push(b.t.abort(p)),b.n.push(v,a),u=!0}}let z=y.reduce((a,b)=>b(a),u?b.n.flush(x,h):b.n.getPendingPromise(x));return g??z},[v,i,k,j,l,m?.method,m?.timeMs,t,w,x.updateUrl,x.getSearchParamsSnapshot,x.rateLimitFactor,h,A]);return[(0,d.useMemo)(()=>r(C,A),[C,A]),F]}function q(a,c,d,f,g,h){let i=!1,j=Object.entries(a).reduce((a,[j,k])=>{var l;let m=c?.[j]??j,n=f[m],o="multi"===k.type?[]:null,p=void 0===n?("multi"===k.type?d?.getAll(m):d?.get(m))??o:n;return g&&h&&((l=g[m]??o)===p||null!==l&&null!==p&&"string"!=typeof l&&"string"!=typeof p&&l.length===p.length&&l.every((a,b)=>a===p[b]))?a[j]=h[j]??null:(i=!0,a[j]=((0,b.i)(p)?null:e(k.parse,p,m))??null,g&&(g[m]=p)),a},{});if(!i){let b=Object.keys(a),c=Object.keys(h??{});i=b.length!==c.length||b.some(a=>!c.includes(a))}return{state:j,hasChanged:i}}function r(a,b){return Object.fromEntries(Object.keys(a).map(c=>[c,a[c]??b[c]??null]))}function s(a,b={}){let{parse:c,type:e,serialize:f,eq:g,defaultValue:h,...i}=b,[{[a]:j},k]=p({[a]:{parse:c??(a=>a),type:e,serialize:f,eq:g,defaultValue:h}},i);return[j,(0,d.useCallback)((b,c={})=>k(c=>({[a]:"function"==typeof b?b(c[a]):b}),c),[a,k])]}a.s(["parseAsArrayOf",()=>m,"parseAsBoolean",()=>i,"parseAsInteger",()=>h,"parseAsString",()=>g,"parseAsStringEnum",()=>k,"parseAsStringLiteral",()=>l,"useQueryState",()=>s,"useQueryStates",()=>p],689024)}];

//# sourceMappingURL=0fd59_nuqs_dist_index_ea4bf70f.js.map