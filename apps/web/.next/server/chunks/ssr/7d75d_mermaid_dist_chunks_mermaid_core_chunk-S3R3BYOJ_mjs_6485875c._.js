module.exports=[274160,221015,27924,56879,802596,861455,802228,11830,318702,535549,147911,709017,282986,243076,209369,610704,530986,704008,725300,31173,518214,a=>{"use strict";var b,c,d,e,f=a.i(239536),g=a.i(414568),h=a.i(143200);a.i(540099);var i=a.i(542354),j=a.i(96012),k=a.i(312735),l=a.i(825022),m=a.i(170640),n=a.i(697359);function o(a,b){this._basis=new n.Basis(a),this._beta=b}o.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var a=this._x,b=this._y,c=a.length-1;if(c>0)for(var d,e=a[0],f=b[0],g=a[c]-e,h=b[c]-f,i=-1;++i<=c;)d=i/c,this._basis.point(this._beta*a[i]+(1-this._beta)*(e+d*g),this._beta*b[i]+(1-this._beta)*(f+d*h));this._x=this._y=null,this._basis.lineEnd()},point:function(a,b){this._x.push(+a),this._y.push(+b)}};let p=function a(b){function c(a){return 1===b?new n.Basis(a):new o(a,b)}return c.beta=function(b){return a(+b)},c}(.85);var q=a.i(217495);function r(a,b,c){a._context.bezierCurveTo(a._x1+a._k*(a._x2-a._x0),a._y1+a._k*(a._y2-a._y0),a._x2+a._k*(a._x1-b),a._y2+a._k*(a._y1-c),a._x2,a._y2)}function s(a,b){this._context=a,this._k=(1-b)/6}s.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:r(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,b){switch(a*=1,b*=1,this._point){case 0:this._point=1,this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2,this._x1=a,this._y1=b;break;case 2:this._point=3;default:r(this,a,b)}this._x0=this._x1,this._x1=this._x2,this._x2=a,this._y0=this._y1,this._y1=this._y2,this._y2=b}};let t=function a(b){function c(a){return new s(a,b)}return c.tension=function(b){return a(+b)},c}(0);function u(a,b){this._context=a,this._k=(1-b)/6}u.prototype={areaStart:q.default,areaEnd:q.default,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(a,b){switch(a*=1,b*=1,this._point){case 0:this._point=1,this._x3=a,this._y3=b;break;case 1:this._point=2,this._context.moveTo(this._x4=a,this._y4=b);break;case 2:this._point=3,this._x5=a,this._y5=b;break;default:r(this,a,b)}this._x0=this._x1,this._x1=this._x2,this._x2=a,this._y0=this._y1,this._y1=this._y2,this._y2=b}};let v=function a(b){function c(a){return new u(a,b)}return c.tension=function(b){return a(+b)},c}(0);function w(a,b){this._context=a,this._k=(1-b)/6}w.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,b){switch(a*=1,b*=1,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:r(this,a,b)}this._x0=this._x1,this._x1=this._x2,this._x2=a,this._y0=this._y1,this._y1=this._y2,this._y2=b}};let x=function a(b){function c(a){return new w(a,b)}return c.tension=function(b){return a(+b)},c}(0);a.s(["curveCardinal",0,t],221015);var y=a.i(102816);function z(a,b,c){var d=a._x1,e=a._y1,f=a._x2,g=a._y2;if(a._l01_a>y.epsilon){var h=2*a._l01_2a+3*a._l01_a*a._l12_a+a._l12_2a,i=3*a._l01_a*(a._l01_a+a._l12_a);d=(d*h-a._x0*a._l12_2a+a._x2*a._l01_2a)/i,e=(e*h-a._y0*a._l12_2a+a._y2*a._l01_2a)/i}if(a._l23_a>y.epsilon){var j=2*a._l23_2a+3*a._l23_a*a._l12_a+a._l12_2a,k=3*a._l23_a*(a._l23_a+a._l12_a);f=(f*j+a._x1*a._l23_2a-b*a._l12_2a)/k,g=(g*j+a._y1*a._l23_2a-c*a._l12_2a)/k}a._context.bezierCurveTo(d,e,f,g,a._x2,a._y2)}function A(a,b){this._context=a,this._alpha=b}A.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,b){if(a*=1,b*=1,this._point){var c=this._x2-a,d=this._y2-b;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(c*c+d*d,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2;break;case 2:this._point=3;default:z(this,a,b)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=a,this._y0=this._y1,this._y1=this._y2,this._y2=b}};let B=function a(b){function c(a){return b?new A(a,b):new s(a,0)}return c.alpha=function(b){return a(+b)},c}(.5);function C(a,b){this._context=a,this._alpha=b}C.prototype={areaStart:q.default,areaEnd:q.default,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(a,b){if(a*=1,b*=1,this._point){var c=this._x2-a,d=this._y2-b;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(c*c+d*d,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=a,this._y3=b;break;case 1:this._point=2,this._context.moveTo(this._x4=a,this._y4=b);break;case 2:this._point=3,this._x5=a,this._y5=b;break;default:z(this,a,b)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=a,this._y0=this._y1,this._y1=this._y2,this._y2=b}};let D=function a(b){function c(a){return b?new C(a,b):new u(a,0)}return c.alpha=function(b){return a(+b)},c}(.5);function E(a,b){this._context=a,this._alpha=b}E.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,b){if(a*=1,b*=1,this._point){var c=this._x2-a,d=this._y2-b;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(c*c+d*d,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:z(this,a,b)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=a,this._y0=this._y1,this._y1=this._y2,this._y2=b}};let F=function a(b){function c(a){return b?new E(a,b):new w(a,0)}return c.alpha=function(b){return a(+b)},c}(.5);a.s(["curveCatmullRom",0,B],27924);var G=a.i(225765),H=a.i(206523),I=a.i(276131),J=a.i(239569),K=a.i(853392),L=a.i(328155),M=a.i(21848),N=a.i(800327),O=a.i(108667),P=a.i(641520),Q=a.i(849424),R=a.i(605232),S=function(){try{var a=(0,R.default)(Object,"defineProperty");return a({},"",{}),a}catch(a){}}();let T=function(a,b,c){"__proto__"==b&&S?S(a,b,{configurable:!0,enumerable:!0,value:c,writable:!0}):a[b]=c};a.s(["default",0,T],56879);var U=a.i(20057);let V=function(a,b,c){(void 0===c||(0,U.default)(a[b],c))&&(void 0!==c||b in a)||T(a,b,c)};var W=a.i(150681);let X=function(a,b){if(b)return a.slice();var c=a.length,d=new a.constructor(c);return a.copy(d),d};a.s(["default",0,X],802596);var Y=a.i(219044);let Z=function(a){var b=new a.constructor(a.byteLength);return new Y.default(b).set(new Y.default(a)),b};a.s(["default",0,Z],861455);let $=function(a,b){var c=b?Z(a.buffer):a.buffer;return new a.constructor(c,a.byteOffset,a.length)};a.s(["default",0,$],802228);let _=function(a,b){var c=-1,d=a.length;for(b||(b=Array(d));++c<d;)b[c]=a[c];return b};a.s(["default",0,_],11830);var aa=a.i(830943),ab=Object.create,ac=function(){function a(){}return function(b){if(!(0,aa.default)(b))return{};if(ab)return ab(b);a.prototype=b;var c=new a;return a.prototype=void 0,c}}();a.s(["default",0,ac],318702);var ad=(0,a.i(973149).default)(Object.getPrototypeOf,Object);a.s(["default",0,ad],535549);var ae=a.i(176039);let af=function(a){return"function"!=typeof a.constructor||(0,ae.default)(a)?{}:ac(ad(a))};a.s(["default",0,af],147911);var ag=a.i(185204),ah=a.i(372516),ai=a.i(245719),aj=a.i(298088);let ak=function(a){return(0,aj.default)(a)&&(0,ai.default)(a)};a.s(["default",0,ak],709017);var al=a.i(998075),am=a.i(488938),an=a.i(741957),ao=Object.prototype,ap=Function.prototype.toString,aq=ao.hasOwnProperty,ar=ap.call(Object);let as=function(a){if(!(0,aj.default)(a)||"[object Object]"!=(0,an.default)(a))return!1;var b=ad(a);if(null===b)return!0;var c=aq.call(b,"constructor")&&b.constructor;return"function"==typeof c&&c instanceof c&&ap.call(c)==ar};var at=a.i(645297);let au=function(a,b){if(("constructor"!==b||"function"!=typeof a[b])&&"__proto__"!=b)return a[b]};var av=Object.prototype.hasOwnProperty;let aw=function(a,b,c){var d=a[b];av.call(a,b)&&(0,U.default)(d,c)&&(void 0!==c||b in a)||T(a,b,c)};a.s(["default",0,aw],282986);let ax=function(a,b,c,d){var e=!c;c||(c={});for(var f=-1,g=b.length;++f<g;){var h=b[f],i=d?d(c[h],a[h],h,c,a):void 0;void 0===i&&(i=a[h]),e?T(c,h,i):aw(c,h,i)}return c};a.s(["default",0,ax],243076);var ay=a.i(98734);let az=function(a){var b=[];if(null!=a)for(var c in Object(a))b.push(c);return b};var aA=Object.prototype.hasOwnProperty;let aB=function(a){if(!(0,aa.default)(a))return az(a);var b=(0,ae.default)(a),c=[];for(var d in a)"constructor"==d&&(b||!aA.call(a,d))||c.push(d);return c},aC=function(a){return(0,ai.default)(a)?(0,ay.default)(a,!0):aB(a)};a.s(["default",0,aC],209369);let aD=function(a,b,c,d,e,f,g){var h=au(a,c),i=au(b,c),j=g.get(i);if(j)return void V(a,c,j);var k=f?f(h,i,c+"",a,b,g):void 0,l=void 0===k;if(l){var m=(0,ah.default)(i),n=!m&&(0,al.default)(i),o=!m&&!n&&(0,at.default)(i);(k=i,m||n||o)?(0,ah.default)(h)?k=h:ak(h)?k=_(h):n?(l=!1,k=X(i,!0)):o?(l=!1,k=$(i,!0)):k=[]:as(i)||(0,ag.default)(i)?(k=h,(0,ag.default)(h))?k=ax(h,aC(h)):(!(0,aa.default)(h)||(0,am.default)(h))&&(k=af(i)):l=!1}l&&(g.set(i,k),e(k,i,d,f,g),g.delete(i)),V(a,c,k)},aE=function a(b,c,d,e,f){b!==c&&(0,W.default)(c,function(g,h){if(f||(f=new Q.default),(0,aa.default)(g))aD(b,c,h,d,a,e,f);else{var i=e?e(au(b,h),g,h+"",b,c,f):void 0;void 0===i&&(i=g),V(b,h,i)}},aC)};var aF=a.i(132773);let aG=function(a,b,c){switch(c.length){case 0:return a.call(b);case 1:return a.call(b,c[0]);case 2:return a.call(b,c[0],c[1]);case 3:return a.call(b,c[0],c[1],c[2])}return a.apply(b,c)};var aH=Math.max;let aI=function(a,b,c){return b=aH(void 0===b?a.length-1:b,0),function(){for(var d=arguments,e=-1,f=aH(d.length-b,0),g=Array(f);++e<f;)g[e]=d[b+e];e=-1;for(var h=Array(b+1);++e<b;)h[e]=d[e];return h[b]=c(g),aG(a,this,h)}};a.s(["default",0,aI],610704);let aJ=function(a){return function(){return a}};a.s(["default",0,aJ],530986);var aK=S?function(a,b){return S(a,"toString",{configurable:!0,enumerable:!1,value:aJ(b),writable:!0})}:aF.default,aL=Date.now,aM=(b=0,c=0,function(){var a=aL(),d=16-(a-c);if(c=a,d>0){if(++b>=800)return arguments[0]}else b=0;return aK.apply(void 0,arguments)});a.s(["default",0,aM],704008);let aN=function(a,b){return aM(aI(a,b,aF.default),a+"")};a.s(["default",0,aN],725300);var aO=a.i(222516);let aP=function(a,b,c){if(!(0,aa.default)(c))return!1;var d=typeof b;return("number"==d?!!((0,ai.default)(c)&&(0,aO.default)(b,c.length)):"string"==d&&b in c)&&(0,U.default)(c[b],a)};a.s(["default",0,aP],31173);var aQ=(d=function(a,b,c){aE(a,b,c)},aN(function(a,b){var c=-1,e=b.length,f=e>1?b[e-1]:void 0,g=e>2?b[2]:void 0;for(f=d.length>3&&"function"==typeof f?(e--,f):void 0,g&&aP(b[0],b[1],g)&&(f=e<3?void 0:f,e=1),a=Object(a);++c<e;){var h=b[c];h&&d(a,h,c,f)}return a}));a.s(["default",0,aQ],518214);var aR={curveBasis:i.curveBasis,curveBasisClosed:j.curveBasisClosed,curveBasisOpen:k.curveBasisOpen,curveBumpX:l.curveBumpX,curveBumpY:m.curveBumpY,curveBundle:p,curveCardinalClosed:v,curveCardinalOpen:x,curveCardinal:t,curveCatmullRomClosed:D,curveCatmullRomOpen:F,curveCatmullRom:B,curveLinear:G.curveLinear,curveLinearClosed:H.curveLinearClosed,curveMonotoneX:I.curveMonotoneX,curveMonotoneY:J.curveMonotoneY,curveNatural:K.curveNatural,curveStep:L.curveStep,curveStepAfter:M.curveStepAfter,curveStepBefore:N.curveStepBefore},aS=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,aT=(0,g.__name)(function(a,b){let c=aU(a,/(?:init\b)|(?:initialize\b)/),d={};if(Array.isArray(c)){let a=c.map(a=>a.args);(0,f.sanitizeDirective)(a),d=(0,f.assignWithDepth_default)(d,[...a])}else d=c.args;if(!d)return;let e=(0,f.detectType)(a,b),g="config";return void 0!==d[g]&&("flowchart-v2"===e&&(e="flowchart"),d[e]=d[g],delete d[g]),d},"detectInit"),aU=(0,g.__name)(function(a,b=null){try{let c,d=RegExp(`[%]{2}(?![{]${aS.source})(?=[}][%]{2}).*
`,"ig");a=a.trim().replace(d,"").replace(/'/gm,'"'),g.log.debug(`Detecting diagram directive${null!==b?" type:"+b:""} based on the text:${a}`);let e=[];for(;null!==(c=f.directiveRegex.exec(a));)if(c.index===f.directiveRegex.lastIndex&&f.directiveRegex.lastIndex++,c&&!b||b&&c[1]?.match(b)||b&&c[2]?.match(b)){let a=c[1]?c[1]:c[2],b=c[3]?c[3].trim():c[4]?JSON.parse(c[4].trim()):null;e.push({type:a,args:b})}if(0===e.length)return{type:a,args:null};return 1===e.length?e[0]:e}catch(c){return g.log.error(`ERROR: ${c.message} - Unable to parse directive type: '${b}' based on the text: '${a}'`),{type:void 0,args:null}}},"detectDirective"),aV=(0,g.__name)(function(a){return a.replace(f.directiveRegex,"")},"removeDirectives"),aW=(0,g.__name)(function(a,b){for(let[c,d]of b.entries())if(d.match(a))return c;return -1},"isSubstringInArray");function aX(a,b){return a?aR[`curve${a.charAt(0).toUpperCase()+a.slice(1)}`]??b:b}function aY(a,b){let c=a.trim();if(c)return"loose"!==b.securityLevel?(0,h.sanitizeUrl)(c):c}(0,g.__name)(aX,"interpolateToCurve"),(0,g.__name)(aY,"formatUrl");var aZ=(0,g.__name)((a,...b)=>{let c=a.split("."),d=c.length-1,e=c[d],f=window;for(let b=0;b<d;b++)if(!(f=f[c[b]]))return void g.log.error(`Function name: ${a} not found in window`);f[e](...b)},"runFunc");function a$(a,b){return a&&b?Math.sqrt(Math.pow(b.x-a.x,2)+Math.pow(b.y-a.y,2)):0}function a_(a){let b,c=0;return a.forEach(a=>{c+=a$(a,b),b=a}),a2(a,c/2)}function a0(a){return 1===a.length?a[0]:a_(a)}(0,g.__name)(a$,"distance"),(0,g.__name)(a_,"traverseEdge"),(0,g.__name)(a0,"calcLabelPosition");var a1=(0,g.__name)((a,b=2)=>{let c=Math.pow(10,b);return Math.round(a*c)/c},"roundNumber"),a2=(0,g.__name)((a,b)=>{let c,d=b;for(let b of a){if(c){let a=a$(b,c);if(0===a)return c;if(a<d)d-=a;else{let e=d/a;if(e<=0)return c;if(e>=1)return{x:b.x,y:b.y};if(e>0&&e<1)return{x:a1((1-e)*c.x+e*b.x,5),y:a1((1-e)*c.y+e*b.y,5)}}}c=b}throw Error("Could not find a suitable point for the given distance")},"calculatePoint"),a3=(0,g.__name)((a,b,c)=>{g.log.info(`our points ${JSON.stringify(b)}`),b[0]!==c&&(b=b.reverse());let d=a2(b,25),e=a?10:5,f=Math.atan2(b[0].y-d.y,b[0].x-d.x),h={x:0,y:0};return h.x=Math.sin(f)*e+(b[0].x+d.x)/2,h.y=-Math.cos(f)*e+(b[0].y+d.y)/2,h},"calcCardinalityPosition");function a4(a,b,c){let d=structuredClone(c);g.log.info("our points",d),"start_left"!==b&&"start_right"!==b&&d.reverse();let e=a2(d,25+a),f=10+.5*a,h=Math.atan2(d[0].y-e.y,d[0].x-e.x),i={x:0,y:0};return"start_left"===b?(i.x=Math.sin(h+Math.PI)*f+(d[0].x+e.x)/2,i.y=-Math.cos(h+Math.PI)*f+(d[0].y+e.y)/2):"end_right"===b?(i.x=Math.sin(h-Math.PI)*f+(d[0].x+e.x)/2-5,i.y=-Math.cos(h-Math.PI)*f+(d[0].y+e.y)/2-5):"end_left"===b?(i.x=Math.sin(h)*f+(d[0].x+e.x)/2-5,i.y=-Math.cos(h)*f+(d[0].y+e.y)/2-5):(i.x=Math.sin(h)*f+(d[0].x+e.x)/2,i.y=-Math.cos(h)*f+(d[0].y+e.y)/2),i}function a5(a){let b="",c="";for(let d of a)void 0!==d&&(d.startsWith("color:")||d.startsWith("text-align:")?c=c+d+";":b=b+d+";");return{style:b,labelStyle:c}}(0,g.__name)(a4,"calcTerminalLabelPosition"),(0,g.__name)(a5,"getStylesFromArray");var a6=0,a7=(0,g.__name)(()=>(a6++,"id-"+Math.random().toString(36).substr(2,12)+"-"+a6),"generateId");function a8(a){let b="",c="0123456789abcdef",d=c.length;for(let e=0;e<a;e++)b+=c.charAt(Math.floor(Math.random()*d));return b}(0,g.__name)(a8,"makeRandomHex");var a9=(0,g.__name)(a=>a8(a.length),"random"),ba=(0,g.__name)(function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},"getTextObj"),bb=(0,g.__name)(function(a,b){let c=b.text.replace(f.common_default.lineBreakRegex," "),[,d]=bl(b.fontSize),e=a.append("text");e.attr("x",b.x),e.attr("y",b.y),e.style("text-anchor",b.anchor),e.style("font-family",b.fontFamily),e.style("font-size",d),e.style("font-weight",b.fontWeight),e.attr("fill",b.fill),void 0!==b.class&&e.attr("class",b.class);let g=e.append("tspan");return g.attr("x",b.x+2*b.textMargin),g.attr("fill",b.fill),g.text(c),e},"drawSimpleText"),bc=(0,P.default)((a,b,c)=>{if(!a||(c=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},c),f.common_default.lineBreakRegex.test(a)))return a;let d=a.split(" ").filter(Boolean),e=[],g="";return d.forEach((a,f)=>{let h=bf(`${a} `,c),i=bf(g,c);if(h>b){let{hyphenatedStrings:d,remainingWord:f}=bd(a,b,"-",c);e.push(g,...d),g=f}else i+h>=b?(e.push(g),g=a):g=[g,a].filter(Boolean).join(" ");f+1===d.length&&e.push(g)}),e.filter(a=>""!==a).join(c.joinWith)},(a,b,c)=>`${a}${b}${c.fontSize}${c.fontWeight}${c.fontFamily}${c.joinWith}`),bd=(0,P.default)((a,b,c="-",d)=>{d=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},d);let e=[...a],f=[],g="";return e.forEach((a,h)=>{let i=`${g}${a}`;if(bf(i,d)>=b){let a=e.length===h+1,b=`${i}${c}`;f.push(a?i:b),g=""}else g=i}),{hyphenatedStrings:f,remainingWord:g}},(a,b,c="-",d)=>`${a}${b}${c}${d.fontSize}${d.fontWeight}${d.fontFamily}`);function be(a,b){return bg(a,b).height}function bf(a,b){return bg(a,b).width}(0,g.__name)(be,"calculateTextHeight"),(0,g.__name)(bf,"calculateTextWidth");var bg=(0,P.default)((a,b)=>{let{fontSize:c=12,fontFamily:d="Arial",fontWeight:e=400}=b;if(!a)return{width:0,height:0};let[,g]=bl(c),h=a.split(f.common_default.lineBreakRegex),i=[],j=(0,O.select)("body");if(!j.remove)return{width:0,height:0,lineHeight:0};let k=j.append("svg");for(let a of["sans-serif",d]){let b=0,c={width:0,height:0,lineHeight:0};for(let d of h){let f=ba();f.text=d||"​";let h=bb(k,f).style("font-size",g).style("font-weight",e).style("font-family",a),i=(h._groups||h)[0][0].getBBox();if(0===i.width&&0===i.height)throw Error("svg element not in render tree");c.width=Math.round(Math.max(c.width,i.width)),b=Math.round(i.height),c.height+=b,c.lineHeight=Math.round(Math.max(c.lineHeight,b))}i.push(c)}k.remove();let l=isNaN(i[1].height)||isNaN(i[1].width)||isNaN(i[1].lineHeight)||i[0].height>i[1].height&&i[0].width>i[1].width&&i[0].lineHeight>i[1].lineHeight?0:1;return i[l]},(a,b)=>`${a}${b.fontSize}${b.fontWeight}${b.fontFamily}`),bh=class{constructor(a=!1,b){this.count=0,this.count=b?b.length:0,this.next=a?()=>this.count++:()=>Date.now()}static{(0,g.__name)(this,"InitIDGenerator")}},bi=(0,g.__name)(function(a){return e=e||document.createElement("div"),a=escape(a).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),e.innerHTML=a,unescape(e.textContent)},"entityDecode");function bj(a){return"str"in a}(0,g.__name)(bj,"isDetailedError");var bk=(0,g.__name)((a,b,c,d)=>{if(!d)return;let e=a.node()?.getBBox();e&&a.append("text").text(d).attr("text-anchor","middle").attr("x",e.x+e.width/2).attr("y",-c).attr("class",b)},"insertTitle"),bl=(0,g.__name)(a=>{if("number"==typeof a)return[a,a+"px"];let b=parseInt(a??"",10);return Number.isNaN(b)?[void 0,void 0]:a===String(b)?[b,a+"px"]:[b,a]},"parseFontSize");function bm(a,b){return aQ({},a,b)}(0,g.__name)(bm,"cleanAndMerge");var bn={assignWithDepth:f.assignWithDepth_default,wrapLabel:bc,calculateTextHeight:be,calculateTextWidth:bf,calculateTextDimensions:bg,cleanAndMerge:bm,detectInit:aT,detectDirective:aU,isSubstringInArray:aW,interpolateToCurve:aX,calcLabelPosition:a0,calcCardinalityPosition:a3,calcTerminalLabelPosition:a4,formatUrl:aY,getStylesFromArray:a5,generateId:a7,random:a9,runFunc:aZ,entityDecode:bi,insertTitle:bk,isLabelCoordinateInPath:bs,parseFontSize:bl,InitIDGenerator:bh},bo=(0,g.__name)(function(a){let b=a;return(b=(b=b.replace(/style.*:\S*#.*;/g,function(a){return a.substring(0,a.length-1)})).replace(/classDef.*:\S*#.*;/g,function(a){return a.substring(0,a.length-1)})).replace(/#\w+;/g,function(a){let b=a.substring(1,a.length-1);return/^\+?\d+$/.test(b)?"ﬂ°°"+b+"¶ß":"ﬂ°"+b+"¶ß"})},"encodeEntities"),bp=(0,g.__name)(function(a){return a.replace(/ﬂ°°/g,"&#").replace(/ﬂ°/g,"&").replace(/¶ß/g,";")},"decodeEntities"),bq=(0,g.__name)((a,b,{counter:c=0,prefix:d,suffix:e},f)=>f||`${d?`${d}_`:""}${a}_${b}_${c}${e?`_${e}`:""}`,"getEdgeId");function br(a){return a??null}function bs(a,b){let c=Math.round(a.x),d=Math.round(a.y),e=b.replace(/(\d+\.\d+)/g,a=>Math.round(parseFloat(a)).toString());return e.includes(c.toString())||e.includes(d.toString())}(0,g.__name)(br,"handleUndefinedAttr"),(0,g.__name)(bs,"isLabelCoordinateInPath"),a.s(["ZERO_WIDTH_SPACE",()=>"​","calculateTextHeight",()=>be,"calculateTextWidth",()=>bf,"cleanAndMerge",()=>bm,"decodeEntities",()=>bp,"encodeEntities",()=>bo,"generateId",()=>a7,"getEdgeId",()=>bq,"getStylesFromArray",()=>a5,"handleUndefinedAttr",()=>br,"interpolateToCurve",()=>aX,"isDetailedError",()=>bj,"parseFontSize",()=>bl,"random",()=>a9,"removeDirectives",()=>aV,"utils_default",()=>bn,"wrapLabel",()=>bc],274160)}];

//# sourceMappingURL=7d75d_mermaid_dist_chunks_mermaid_core_chunk-S3R3BYOJ_mjs_6485875c._.js.map