{"version":3,"sources":["../../../../../../node_modules/.bun/lucide-react%400.555.0%2B83d5fd7b249dbeef/node_modules/lucide-react/src/icons/chevron-left.ts","../../../../../../node_modules/.bun/lucide-react%400.555.0%2B83d5fd7b249dbeef/node_modules/lucide-react/src/icons/layout-grid.ts","../../../../../../apps/web/src/components/projects/ProjectLayout.tsx"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [['path', { d: 'm15 18-6-6 6-6', key: '1wnfg3' }]];\n\n/**\n * @component @name ChevronLeft\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTUgMTgtNi02IDYtNiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/chevron-left\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ChevronLeft = createLucideIcon('chevron-left', __iconNode);\n\nexport default ChevronLeft;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['rect', { width: '7', height: '7', x: '3', y: '3', rx: '1', key: '1g98yp' }],\n  ['rect', { width: '7', height: '7', x: '14', y: '3', rx: '1', key: '6d4xhi' }],\n  ['rect', { width: '7', height: '7', x: '14', y: '14', rx: '1', key: 'nxv5o0' }],\n  ['rect', { width: '7', height: '7', x: '3', y: '14', rx: '1', key: '1bb6yr' }],\n];\n\n/**\n * @component @name LayoutGrid\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSI3IiB4PSIzIiB5PSIzIiByeD0iMSIgLz4KICA8cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSI3IiB4PSIxNCIgeT0iMyIgcng9IjEiIC8+CiAgPHJlY3Qgd2lkdGg9IjciIGhlaWdodD0iNyIgeD0iMTQiIHk9IjE0IiByeD0iMSIgLz4KICA8cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSI3IiB4PSIzIiB5PSIxNCIgcng9IjEiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/layout-grid\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst LayoutGrid = createLucideIcon('layout-grid', __iconNode);\n\nexport default LayoutGrid;\n","\"use client\";\n\nimport { api } from \"@blah-chat/backend/convex/_generated/api\";\nimport type { Id } from \"@blah-chat/backend/convex/_generated/dataModel\";\nimport { useQuery } from \"convex/react\";\nimport {\n  Archive,\n  ChevronLeft,\n  FileText,\n  FolderOpen,\n  LayoutGrid,\n  MessageSquare,\n  MoreHorizontal,\n  Settings,\n} from \"lucide-react\";\nimport Link from \"next/link\";\nimport { usePathname, useRouter } from \"next/navigation\";\nimport type { ReactNode } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { cn } from \"@/lib/utils\";\n\ninterface ProjectLayoutProps {\n  projectId: Id<\"projects\">;\n  children: ReactNode;\n}\n\nexport function ProjectLayout({ projectId, children }: ProjectLayoutProps) {\n  const _router = useRouter();\n  const pathname = usePathname();\n  // @ts-ignore - Type depth exceeded\n  const project = useQuery(api.projects.get, { id: projectId });\n  // @ts-ignore - Type depth exceeded\n  const stats = useQuery(api.projects.getProjectStats, { projectId });\n\n  if (!project) {\n    return (\n      <div className=\"flex items-center justify-center h-screen bg-background text-muted-foreground\">\n        Loading...\n      </div>\n    );\n  }\n\n  // Helper to check active tab\n  const isActive = (path: string) => {\n    // If just /projects/[id], it's overview\n    if (path === \"overview\" && pathname === `/projects/${projectId}`)\n      return true;\n    return pathname?.includes(path);\n  };\n\n  const navItems = [\n    {\n      id: \"overview\",\n      label: \"Overview\",\n      icon: LayoutGrid,\n      path: `/projects/${projectId}`,\n    },\n    {\n      id: \"tasks\",\n      label: \"Tasks\",\n      icon: Archive, // Using Archive as placeholder for \"Tasks\" drawer icon, commonly used in Linear-likes\n      path: `/projects/${projectId}/tasks`,\n      count: stats?.taskStats?.active || undefined,\n    },\n    {\n      id: \"notes\",\n      label: \"Notes\",\n      icon: FileText,\n      path: `/projects/${projectId}/notes`,\n      count: stats?.noteCount || undefined,\n    },\n    {\n      id: \"files\",\n      label: \"Files\",\n      icon: FolderOpen,\n      path: `/projects/${projectId}/files`,\n      count: stats?.fileCount || undefined,\n    },\n    {\n      id: \"conversations\",\n      label: \"Conversations\",\n      icon: MessageSquare,\n      path: `/projects/${projectId}/conversations`,\n      count: stats?.conversationCount || undefined,\n    },\n  ];\n\n  return (\n    <div className=\"flex h-screen bg-background overflow-hidden\">\n      {/* Sidebar */}\n      <aside className=\"w-[260px] flex-none border-r bg-muted/10 flex flex-col\">\n        {/* Project Header */}\n        <div className=\"p-4 pt-6\">\n          <Link\n            href=\"/projects\"\n            className=\"text-xs font-medium text-muted-foreground hover:text-foreground flex items-center mb-6 transition-colors group\"\n          >\n            <ChevronLeft className=\"h-3 w-3 mr-1 transition-transform group-hover:-translate-x-0.5\" />\n            Back to Projects\n          </Link>\n          <div className=\"flex items-center justify-between group mb-2\">\n            <h1 className=\"font-semibold text-lg tracking-tight truncate pr-2\">\n              {project.name}\n            </h1>\n            <Button\n              variant=\"ghost\"\n              size=\"icon\"\n              className=\"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity\"\n            >\n              <MoreHorizontal className=\"h-4 w-4 text-muted-foreground\" />\n            </Button>\n          </div>\n        </div>\n\n        {/* Navigation */}\n        <ScrollArea className=\"flex-1 px-3\">\n          <div className=\"space-y-1\">\n            {navItems.map((item) => (\n              <Button\n                key={item.id}\n                variant=\"ghost\"\n                asChild\n                className={cn(\n                  \"w-full justify-between h-9 px-3 font-normal\",\n                  isActive(item.id)\n                    ? \"bg-secondary text-primary font-medium\"\n                    : \"text-muted-foreground hover:bg-secondary/50 hover:text-foreground\",\n                )}\n              >\n                <Link href={item.path}>\n                  <div className=\"flex items-center\">\n                    <item.icon\n                      className={cn(\n                        \"mr-3 h-4 w-4\",\n                        isActive(item.id)\n                          ? \"text-primary\"\n                          : \"text-muted-foreground group-hover:text-foreground\",\n                      )}\n                    />\n                    {item.label}\n                  </div>\n                  {item.count !== undefined && item.count > 0 && (\n                    <span className=\"text-xs text-muted-foreground/60 font-mono\">\n                      {item.count}\n                    </span>\n                  )}\n                </Link>\n              </Button>\n            ))}\n          </div>\n\n          <Separator className=\"my-4 mx-2 w-auto bg-border/40\" />\n\n          {/* Settings Link */}\n          <Button\n            variant=\"ghost\"\n            asChild\n            className={cn(\n              \"w-full justify-start h-9 px-3 font-normal text-muted-foreground hover:bg-secondary/50 hover:text-foreground\",\n              isActive(\"settings\") && \"bg-secondary text-primary font-medium\",\n            )}\n          >\n            <Link href={`/projects/${projectId}/settings`}>\n              <Settings\n                className={cn(\n                  \"mr-3 h-4 w-4\",\n                  isActive(\"settings\")\n                    ? \"text-primary\"\n                    : \"text-muted-foreground group-hover:text-foreground\",\n                )}\n              />\n              Settings\n            </Link>\n          </Button>\n        </ScrollArea>\n      </aside>\n\n      {/* Main Content */}\n      <main className=\"flex-1 flex flex-col min-w-0 bg-background relative z-10 overflow-hidden\">\n        {children}\n      </main>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","ignoreList":[0,1]}