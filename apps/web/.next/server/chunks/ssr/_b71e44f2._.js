module.exports=[540772,a=>{"use strict";let b=(0,a.i(366705).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],540772)},484222,a=>{"use strict";let b=(0,a.i(366705).default)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);a.s(["BarChart3",()=>b],484222)},187250,a=>{"use strict";var b=a.i(367146),c=a.i(130487);a.i(16243);var d=a.i(273526),e=a.i(182234),f=a.i(502311),g=a.i(537500),h=a.i(703596),i=a.i(505613),j=a.i(540772),k=a.i(484222),l=a.i(687336),m=a.i(726295),n=a.i(376332),o=a.i(851943),p=a.i(546686),q=a.i(982153),r=a.i(127487);let s=[{icon:l.MessageSquare,label:"Feedback",href:"/admin/feedback"},{icon:n.Users,label:"Users",href:"/admin/users"},{icon:m.Settings,label:"Settings",href:"/admin/settings"},{icon:k.BarChart3,label:"Usage",href:"/admin/usage"}];function t(){let a=(0,f.usePathname)();return(0,b.jsxs)(r.Sidebar,{collapsible:"icon",role:"navigation","aria-label":"Admin navigation",children:[(0,b.jsx)(r.SidebarHeader,{className:"pt-6 px-4 group-data-[collapsible=icon]:px-2",children:(0,b.jsxs)("div",{className:"flex items-center justify-between px-2 group-data-[collapsible=icon]:px-0 group-data-[collapsible=icon]:justify-center",children:[(0,b.jsx)(o.default,{href:"/admin/feedback",className:"hidden group-data-[collapsible=icon]:hidden sm:block hover:opacity-80 transition-opacity",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(p.Logo,{size:"sm",showText:!1}),(0,b.jsx)("span",{className:"font-semibold text-sm",children:"Admin"})]})}),(0,b.jsx)(o.default,{href:"/admin/feedback",className:"group-data-[collapsible=icon]:block hidden hover:opacity-80 transition-opacity",children:(0,b.jsx)(p.Logo,{size:"sm",showText:!1})}),(0,b.jsx)("div",{className:"sm:hidden",children:(0,b.jsx)(o.default,{href:"/admin/feedback",className:"hover:opacity-80 transition-opacity",children:(0,b.jsx)(p.Logo,{size:"sm",showText:!1})})})]})}),(0,b.jsx)(r.SidebarContent,{children:(0,b.jsxs)(r.SidebarGroup,{children:[(0,b.jsx)(r.SidebarGroupLabel,{children:"Admin Dashboard"}),(0,b.jsx)(r.SidebarGroupContent,{children:(0,b.jsx)(r.SidebarMenu,{children:s.map(c=>(0,b.jsx)(r.SidebarMenuItem,{children:(0,b.jsx)(r.SidebarMenuButton,{asChild:!0,tooltip:c.label,isActive:a===c.href,children:(0,b.jsxs)(o.default,{href:c.href,children:[(0,b.jsx)(c.icon,{className:"w-4 h-4"}),(0,b.jsx)("span",{children:c.label})]})})},c.href))})})]})}),(0,b.jsxs)(r.SidebarFooter,{className:"pb-4",children:[(0,b.jsx)(r.SidebarMenu,{children:(0,b.jsx)(r.SidebarMenuItem,{children:(0,b.jsx)(r.SidebarMenuButton,{asChild:!0,tooltip:"Back to App",children:(0,b.jsxs)(o.default,{href:"/app",className:"text-muted-foreground hover:text-foreground",children:[(0,b.jsx)(j.ArrowLeft,{className:"w-4 h-4"}),(0,b.jsx)("span",{children:"Back to App"})]})})})}),(0,b.jsx)("div",{className:"px-2 pt-2 group-data-[collapsible=icon]:hidden",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)(i.UserButton,{afterSignOutUrl:"/sign-in"}),(0,b.jsx)(q.ThemeSwitcher,{})]})}),(0,b.jsx)("div",{className:"hidden group-data-[collapsible=icon]:flex justify-center pt-2",children:(0,b.jsx)(i.UserButton,{afterSignOutUrl:"/sign-in"})})]})]})}function u({children:a}){let{isAuthenticated:i,isLoading:j}=(0,d.useConvexAuth)(),k=(0,e.useQuery)(c.api.admin.isCurrentUserAdmin),l=(0,f.useRouter)();return((0,g.useEffect)(()=>{j||i||l.push("/sign-in"),!j&&i&&!1===k&&l.push("/")},[i,j,k,l]),j||void 0===k)?(0,b.jsx)("div",{className:"flex h-screen items-center justify-center",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):i&&k?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(t,{}),(0,b.jsxs)("main",{id:"admin-content",className:"flex-1 flex flex-col min-w-0 overflow-x-hidden overflow-y-hidden","aria-label":"Admin interface",children:[(0,b.jsxs)("header",{className:"flex h-14 shrink-0 items-center gap-2 border-b px-4",children:[(0,b.jsx)(r.SidebarTrigger,{}),(0,b.jsx)("h1",{className:"text-lg font-semibold",children:"Admin Dashboard"}),(0,b.jsx)("div",{className:"ml-auto",children:(0,b.jsx)(h.FeedbackButton,{})})]}),a]})]}):null}a.s(["default",()=>u],187250)}];

//# sourceMappingURL=_b71e44f2._.js.map