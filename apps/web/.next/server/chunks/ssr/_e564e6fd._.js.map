{"version":3,"sources":["../../../../../../node_modules/.bun/next%4016.1.0%2Bbbbf7eacaabc9320/node_modules/next/src/client/use-merged-ref.ts","../../../../../../apps/web/src/components/brand/Logo.tsx"],"sourcesContent":["import { useCallback, useRef, type Ref } from 'react'\n\n// This is a compatibility hook to support React 18 and 19 refs.\n// In 19, a cleanup function from refs may be returned.\n// In 18, returning a cleanup function creates a warning.\n// Since we take userspace refs, we don't know ahead of time if a cleanup function will be returned.\n// This implements cleanup functions with the old behavior in 18.\n// We know refs are always called alternating with `null` and then `T`.\n// So a call with `null` means we need to call the previous cleanup functions.\nexport function useMergedRef<TElement>(\n  refA: Ref<TElement>,\n  refB: Ref<TElement>\n): Ref<TElement> {\n  const cleanupA = useRef<(() => void) | null>(null)\n  const cleanupB = useRef<(() => void) | null>(null)\n\n  // NOTE: In theory, we could skip the wrapping if only one of the refs is non-null.\n  // (this happens often if the user doesn't pass a ref to Link/Form/Image)\n  // But this can cause us to leak a cleanup-ref into user code (previously via `<Link legacyBehavior>`),\n  // and the user might pass that ref into ref-merging library that doesn't support cleanup refs\n  // (because it hasn't been updated for React 19)\n  // which can then cause things to blow up, because a cleanup-returning ref gets called with `null`.\n  // So in practice, it's safer to be defensive and always wrap the ref, even on React 19.\n  return useCallback(\n    (current: TElement | null): void => {\n      if (current === null) {\n        const cleanupFnA = cleanupA.current\n        if (cleanupFnA) {\n          cleanupA.current = null\n          cleanupFnA()\n        }\n        const cleanupFnB = cleanupB.current\n        if (cleanupFnB) {\n          cleanupB.current = null\n          cleanupFnB()\n        }\n      } else {\n        if (refA) {\n          cleanupA.current = applyRef(refA, current)\n        }\n        if (refB) {\n          cleanupB.current = applyRef(refB, current)\n        }\n      }\n    },\n    [refA, refB]\n  )\n}\n\nfunction applyRef<TElement>(\n  refA: NonNullable<Ref<TElement>>,\n  current: TElement\n) {\n  if (typeof refA === 'function') {\n    const cleanup = refA(current)\n    if (typeof cleanup === 'function') {\n      return cleanup\n    } else {\n      return () => refA(null)\n    }\n  } else {\n    refA.current = current\n    return () => {\n      refA.current = null\n    }\n  }\n}\n","\"use client\";\n\ninterface LogoProps {\n  size?: \"sm\" | \"md\" | \"lg\";\n  animated?: boolean;\n}\n\nimport Image from \"next/image\";\n\nexport function Logo({\n  size = \"md\",\n  animated = true,\n  showText = true,\n}: LogoProps & { showText?: boolean }) {\n  const sizes = {\n    sm: { text: \"text-lg\", icon: 20 },\n    md: { text: \"text-2xl\", icon: 28 },\n    lg: { text: \"text-4xl\", icon: 40 },\n  };\n\n  const iconSize = sizes[size].icon;\n\n  return (\n    <div className=\"flex items-center gap-2.5\">\n      {/* Logo Icon */}\n      <div className=\"relative\">\n        <Image\n          src=\"/icon.png\"\n          alt=\"blah.chat logo\"\n          width={iconSize}\n          height={iconSize}\n          className={animated ? \"animate-pulse-subtle\" : \"\"}\n          priority\n        />\n      </div>\n\n      {/* Text lockup */}\n      {showText && (\n        <div\n          className={`${sizes[size].text} font-[family-name:var(--font-syne)] leading-none flex items-baseline`}\n        >\n          <span className=\"text-foreground font-bold tracking-tighter\">\n            blah\n          </span>\n          <span className=\"text-muted-foreground font-medium tracking-tight\">\n            .chat\n          </span>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":["useMergedRef","refA","refB","cleanupA","useRef","cleanupB","useCallback","current","cleanupFnA","cleanupFnB","applyRef","cleanup"],"mappings":"uHASgBA,eAAAA,qCAAAA,aAT8B,CAAA,CAAA,IAAA,IASvC,SAASA,EACdC,CAAmB,CACnBC,CAAmB,EAEnB,IAAMC,EAAWC,CAAAA,EAAAA,EAAAA,MAAAA,AAAM,EAAsB,MACvCC,EAAWD,CAAAA,EAAAA,EAAAA,MAAAA,AAAM,EAAsB,MAS7C,MAAOE,GAAAA,EAAAA,WAAAA,AAAW,EAChB,AAACC,IACC,GAAgB,OAAZA,EAAkB,CACpB,IAAMC,EAAaL,EAASI,OAAO,CAC/BC,IACFL,EAASI,MADK,CACE,CAAG,KACnBC,KAEF,IAAMC,EAAaJ,EAASE,OAAO,CAC/BE,IACFJ,EAASE,MADK,CACE,CAAG,KACnBE,IAEJ,MACMR,CADC,GAEHE,EADQ,AACCI,OAAO,CAAGG,EAAST,EAAMM,EAAAA,EAEhCL,IACFG,EADQ,AACCE,OAAO,CAAGG,EAASR,EAAMK,EAAAA,CAGxC,EACA,CAACN,EAAMC,EAAK,CAEhB,CAEA,SAASQ,EACPT,CAAgC,CAChCM,CAAiB,EAEjB,GAAoB,YAAhB,OAAON,EAST,OADAA,EAAKM,OAAO,CAAGA,EACR,KACLN,EAAKM,OAAO,CAAG,IACjB,CAX8B,EAC9B,IAAMI,EAAUV,EAAKM,SACE,AAAvB,YAAI,AAA+B,OAAxBI,EACFA,EAEA,IAAMV,EAAK,KAEtB,CAMF,MANS,6PCrDT,EAAA,EAAA,CAAA,CAAA,OAEO,SAAS,EAAK,MACnB,EAAO,IAAI,UACX,GAAW,CAAI,UACf,GAAW,CAAI,CACoB,EACnC,IAAM,EAAQ,CACZ,GAAI,CAAE,KAAM,UAAW,KAAM,EAAG,EAChC,GAAI,CAAE,KAAM,WAAY,KAAM,EAAG,EACjC,GAAI,CAAE,KAAM,WAAY,KAAM,EAAG,CACnC,EAEM,EAAW,CAAK,CAAC,EAAK,CAAC,IAAI,CAEjC,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sCAEb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,oBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAK,CAAA,CACJ,IAAI,YACJ,IAAI,iBACJ,MAAO,EACP,OAAQ,EACR,UAAW,EAAW,uBAAyB,GAC/C,QAAQ,CAAA,CAAA,MAKX,GACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CACC,UAAW,CAAA,EAAG,CAAK,CAAC,EAAK,CAAC,IAAI,CAAC,qEAAqE,CAAC,WAErG,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,sDAA6C,SAG7D,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,4DAAmD,eAO7E","ignoreList":[0]}