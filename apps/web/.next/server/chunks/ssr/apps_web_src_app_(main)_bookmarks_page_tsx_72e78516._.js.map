{"version":3,"sources":["../../../../../../apps/web/src/app/%28main%29/bookmarks/page.tsx","../../../../../../apps/web/src/components/bookmarks/BookmarkCard.tsx","../../../../../../apps/web/src/components/bookmarks/BookmarksTable.tsx"],"sourcesContent":["\"use client\";\n\nimport { useMutation, useQuery } from \"convex/react\";\nimport { Bookmark, LayoutGrid, List, Search } from \"lucide-react\";\nimport { Suspense, useMemo, useState } from \"react\";\nimport { toast } from \"sonner\";\nimport { BookmarkCard } from \"@/components/bookmarks/BookmarkCard\";\nimport { BookmarksTable } from \"@/components/bookmarks/BookmarksTable\";\nimport { DisabledFeaturePage } from \"@/components/DisabledFeaturePage\";\nimport { FeatureLoadingScreen } from \"@/components/FeatureLoadingScreen\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\nimport { useFeatureToggles } from \"@/hooks/useFeatureToggles\";\nimport { api } from \"@blah-chat/backend/convex/_generated/api\";\n\nexport const dynamic = \"force-dynamic\";\n\nfunction BookmarksPageContent() {\n  const { showBookmarks, isLoading } = useFeatureToggles();\n\n  // Show loading while preferences are being fetched\n  if (isLoading) {\n    return <FeatureLoadingScreen />;\n  }\n\n  // Route guard: show disabled page if bookmarks feature is off\n  if (!showBookmarks) {\n    return (\n      <DisabledFeaturePage featureName=\"Bookmarks\" settingKey=\"showBookmarks\" />\n    );\n  }\n\n  // @ts-ignore - Type depth exceeded with complex Convex query (85+ modules)\n  const bookmarks = useQuery(api.bookmarks.list);\n  const removeBookmark = useMutation(api.bookmarks.remove);\n\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [viewMode, setViewMode] = useState<\"grid\" | \"table\">(\"grid\");\n\n  const filteredBookmarks = useMemo(() => {\n    if (!bookmarks) return [];\n    if (!searchQuery) return bookmarks;\n\n    const query = searchQuery.toLowerCase();\n    return bookmarks.filter((bookmark: any) => {\n      const messageContent = bookmark.message?.content.toLowerCase() || \"\";\n      const conversationTitle =\n        bookmark.conversation?.title.toLowerCase() || \"\";\n      const note = bookmark.note?.toLowerCase() || \"\";\n      const tags = bookmark.tags?.join(\" \").toLowerCase() || \"\";\n\n      return (\n        messageContent.includes(query) ||\n        conversationTitle.includes(query) ||\n        note.includes(query) ||\n        tags.includes(query)\n      );\n    });\n  }, [bookmarks, searchQuery]);\n\n  const handleRemove = async (id: string) => {\n    try {\n      await removeBookmark({ bookmarkId: id as any });\n      toast.success(\"Bookmark removed\");\n    } catch (_error) {\n      toast.error(\"Failed to remove bookmark\");\n    }\n  };\n\n  if (bookmarks === undefined) {\n    return (\n      <div className=\"flex items-center justify-center h-screen\">\n        <div className=\"flex flex-col items-center gap-4\">\n          <div className=\"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent\" />\n          <p className=\"text-muted-foreground animate-pulse\">\n            Loading bookmarks...\n          </p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"h-[calc(100vh-theme(spacing.16))] flex flex-col relative bg-background overflow-hidden\">\n      {/* Fixed Header */}\n      <div className=\"flex-none z-50 bg-background/80 backdrop-blur-md border-b border-border/40 shadow-sm\">\n        <div className=\"container mx-auto max-w-6xl px-4 py-4\">\n          <div className=\"flex flex-col md:flex-row md:items-end justify-between gap-6\">\n            <div className=\"space-y-1\">\n              <h1 className=\"text-xl font-bold tracking-tight\">Bookmarks</h1>\n              <p className=\"text-sm text-muted-foreground\">\n                Saved messages and conversations\n              </p>\n            </div>\n\n            <div className=\"flex gap-3 items-center w-full md:w-auto\">\n              {/* View Toggle */}\n              <div className=\"flex items-center p-1 bg-muted/50 rounded-lg border border-border/40\">\n                <Button\n                  variant={viewMode === \"grid\" ? \"secondary\" : \"ghost\"}\n                  size=\"icon\"\n                  className=\"h-7 w-7 rounded-md\"\n                  onClick={() => setViewMode(\"grid\")}\n                  title=\"Grid View\"\n                >\n                  <LayoutGrid className=\"h-4 w-4\" />\n                </Button>\n                <Button\n                  variant={viewMode === \"table\" ? \"secondary\" : \"ghost\"}\n                  size=\"icon\"\n                  className=\"h-7 w-7 rounded-md\"\n                  onClick={() => setViewMode(\"table\")}\n                  title=\"Table View\"\n                >\n                  <List className=\"h-4 w-4\" />\n                </Button>\n              </div>\n\n              <div className=\"relative w-full md:w-64 group\">\n                <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 h-3.5 w-3.5 text-muted-foreground/70 group-focus-within:text-primary transition-colors\" />\n                <Input\n                  placeholder=\"Search bookmarks...\"\n                  value={searchQuery}\n                  onChange={(e) => setSearchQuery(e.target.value)}\n                  className=\"pl-9 h-9 bg-muted/40 border-border/40 focus:bg-background focus:border-primary/30 transition-all text-sm\"\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Scrollable Content */}\n      <ScrollArea className=\"flex-1 w-full min-h-0\">\n        <div className=\"container mx-auto max-w-6xl px-4 py-8\">\n          {filteredBookmarks.length === 0 ? (\n            <div className=\"flex flex-col items-center justify-center py-24 text-center space-y-4\">\n              <div className=\"h-16 w-16 rounded-full bg-muted/30 flex items-center justify-center\">\n                <Bookmark className=\"h-8 w-8 text-muted-foreground/40\" />\n              </div>\n              <div className=\"space-y-1 max-w-md mx-auto\">\n                <h3 className=\"text-lg font-semibold\">\n                  {searchQuery ? \"No matching bookmarks\" : \"No bookmarks yet\"}\n                </h3>\n                <p className=\"text-sm text-muted-foreground\">\n                  {searchQuery\n                    ? \"Try adjusting your search query.\"\n                    : \"Bookmark messages to find them here.\"}\n                </p>\n              </div>\n            </div>\n          ) : viewMode === \"grid\" ? (\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4\">\n              {filteredBookmarks.map((bookmark: any) => (\n                <BookmarkCard key={bookmark._id} bookmark={bookmark} />\n              ))}\n            </div>\n          ) : (\n            <BookmarksTable\n              bookmarks={filteredBookmarks}\n              onRemove={handleRemove}\n            />\n          )}\n        </div>\n      </ScrollArea>\n    </div>\n  );\n}\n\nfunction BookmarksLoadingSkeleton() {\n  return (\n    <div className=\"flex items-center justify-center h-screen\">\n      <div className=\"flex flex-col items-center gap-4\">\n        <div className=\"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent\" />\n        <p className=\"text-muted-foreground animate-pulse\">\n          Loading bookmarks...\n        </p>\n      </div>\n    </div>\n  );\n}\n\nexport default function BookmarksPage() {\n  return (\n    <Suspense fallback={<BookmarksLoadingSkeleton />}>\n      <BookmarksPageContent />\n    </Suspense>\n  );\n}\n","\"use client\";\n\nimport { useMutation } from \"convex/react\";\nimport { format } from \"date-fns\";\nimport { Trash2 } from \"lucide-react\";\nimport { useRouter } from \"next/navigation\";\nimport { toast } from \"sonner\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader } from \"@/components/ui/card\";\nimport { api } from \"@blah-chat/backend/convex/_generated/api\";\nimport type { Doc } from \"@blah-chat/backend/convex/_generated/dataModel\";\n\ninterface BookmarkCardProps {\n  bookmark: Doc<\"bookmarks\"> & {\n    message: Doc<\"messages\"> | null;\n    conversation: Doc<\"conversations\"> | null;\n  };\n}\n\nexport function BookmarkCard({ bookmark }: BookmarkCardProps) {\n  const router = useRouter();\n  // @ts-ignore - Type depth exceeded with complex Convex query\n  const removeBookmark = useMutation(api.bookmarks.remove);\n\n  const handleDelete = async (e: React.MouseEvent) => {\n    e.stopPropagation();\n    try {\n      await removeBookmark({ bookmarkId: bookmark._id });\n      toast.success(\"Bookmark removed\");\n    } catch (_error) {\n      toast.error(\"Failed to remove bookmark\");\n    }\n  };\n\n  const handleNavigate = () => {\n    if (bookmark.conversation) {\n      router.push(\n        `/chat/${bookmark.conversationId}?messageId=${bookmark.messageId}`,\n      );\n    }\n  };\n\n  if (!bookmark.message || !bookmark.conversation) {\n    return null;\n  }\n\n  const messagePreview =\n    bookmark.message.content.length > 150\n      ? `${bookmark.message.content.slice(0, 150)}...`\n      : bookmark.message.content;\n\n  return (\n    <Card\n      className=\"group relative overflow-hidden hover:bg-muted/30 shadow-sm hover:shadow-md transition-all duration-300 cursor-pointer\"\n      onClick={handleNavigate}\n    >\n      <CardHeader className=\"p-4 pb-2 space-y-0\">\n        <div className=\"flex items-start justify-between\">\n          <div className=\"flex-1 min-w-0 pr-3\">\n            <div className=\"flex items-center gap-2 mb-1.5 text-xs text-muted-foreground\">\n              <span className=\"font-medium text-primary/80 bg-primary/5 px-1.5 py-0.5 rounded\">\n                {bookmark.conversation.title}\n              </span>\n              <span>â€¢</span>\n              <span>{format(bookmark.createdAt, \"MMM d\")}</span>\n            </div>\n            <div className=\"text-sm text-foreground/90 line-clamp-3 leading-relaxed\">\n              {messagePreview}\n            </div>\n          </div>\n\n          <div className=\"opacity-0 group-hover:opacity-100 transition-opacity flex flex-col gap-1 -mr-2 -mt-2\">\n            <Button\n              variant=\"ghost\"\n              size=\"icon\"\n              className=\"h-7 w-7 text-muted-foreground hover:text-destructive\"\n              onClick={handleDelete}\n              title=\"Delete bookmark\"\n            >\n              <Trash2 className=\"h-3.5 w-3.5\" />\n            </Button>\n          </div>\n        </div>\n      </CardHeader>\n\n      <CardContent className=\"p-4 pt-2\">\n        {bookmark.note && (\n          <div className=\"mt-2 text-xs bg-muted/40 p-2 rounded border border-border/40 text-muted-foreground italic\">\n            \"{bookmark.note}\"\n          </div>\n        )}\n\n        {bookmark.tags && bookmark.tags.length > 0 && (\n          <div className=\"flex flex-wrap gap-1.5 mt-3 pt-3 border-t border-border/30\">\n            {bookmark.tags.map((tag: any) => (\n              <Badge\n                key={tag}\n                variant=\"secondary\"\n                className=\"text-[10px] px-1.5 py-0 h-5 bg-muted/50 text-muted-foreground border-border/30\"\n              >\n                {tag}\n              </Badge>\n            ))}\n          </div>\n        )}\n      </CardContent>\n    </Card>\n  );\n}\n","\"use client\";\n\nimport {\n  type ColumnDef,\n  flexRender,\n  getCoreRowModel,\n  getPaginationRowModel,\n  getSortedRowModel,\n  type SortingState,\n  useReactTable,\n} from \"@tanstack/react-table\";\nimport { formatDistanceToNow } from \"date-fns\";\nimport {\n  ArrowUpDown,\n  Calendar,\n  ExternalLink,\n  MessageSquare,\n  MoreVertical,\n  Trash2,\n} from \"lucide-react\";\nimport Link from \"next/link\";\nimport { useRouter } from \"next/navigation\";\nimport { useState } from \"react\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from \"@/components/ui/table\";\n\ninterface BookmarkTableProps {\n  bookmarks: any[];\n  onRemove: (id: string) => void;\n}\n\nexport function BookmarksTable({ bookmarks, onRemove }: BookmarkTableProps) {\n  const router = useRouter();\n  const [sorting, setSorting] = useState<SortingState>([]);\n  const [pagination, setPagination] = useState({\n    pageIndex: 0,\n    pageSize: 10,\n  });\n\n  const columns: ColumnDef<any>[] = [\n    {\n      accessorKey: \"conversation.title\",\n      header: ({ column }) => {\n        return (\n          <Button\n            variant=\"ghost\"\n            onClick={() => column.toggleSorting(column.getIsSorted() === \"asc\")}\n            className=\"-ml-4 hover:bg-transparent\"\n          >\n            Conversation\n            <ArrowUpDown className=\"ml-2 h-4 w-4\" />\n          </Button>\n        );\n      },\n      cell: ({ row }) => (\n        <div className=\"flex flex-col min-w-[200px]\">\n          <Link\n            href={`/chat/${row.original.conversationId}?messageId=${row.original.messageId}`}\n            className=\"font-medium hover:underline flex items-center gap-2 text-foreground\"\n          >\n            <MessageSquare className=\"h-4 w-4 text-muted-foreground\" />\n            {row.original.conversation?.title || \"Untitled Conversation\"}\n          </Link>\n          {row.original.note && (\n            <span className=\"text-xs text-muted-foreground/70 truncate max-w-[300px] mt-0.5 ml-6 italic\">\n              \"{row.original.note}\"\n            </span>\n          )}\n        </div>\n      ),\n    },\n    {\n      id: \"message\",\n      header: \"Message\",\n      cell: ({ row }) => {\n        const content = row.original.message?.content || \"\";\n        const preview =\n          content.length > 80 ? `${content.slice(0, 80)}...` : content;\n        return (\n          <span\n            className=\"text-sm text-muted-foreground line-clamp-1\"\n            title={content}\n          >\n            {preview}\n          </span>\n        );\n      },\n    },\n    {\n      accessorKey: \"tags\",\n      header: \"Tags\",\n      cell: ({ row }) => {\n        const tags = row.original.tags || [];\n        if (tags.length === 0)\n          return <span className=\"text-muted-foreground text-xs\">-</span>;\n\n        return (\n          <div className=\"flex flex-wrap gap-1\">\n            {tags.slice(0, 2).map((tag: string) => (\n              <Badge\n                key={tag}\n                variant=\"secondary\"\n                className=\"text-[10px] px-1.5 py-0 h-5 bg-muted/50 text-muted-foreground border-border/30\"\n              >\n                {tag}\n              </Badge>\n            ))}\n            {tags.length > 2 && (\n              <span className=\"text-[10px] text-muted-foreground\">\n                +{tags.length - 2}\n              </span>\n            )}\n          </div>\n        );\n      },\n    },\n    {\n      accessorKey: \"createdAt\",\n      header: ({ column }) => {\n        return (\n          <Button\n            variant=\"ghost\"\n            onClick={() => column.toggleSorting(column.getIsSorted() === \"asc\")}\n            className=\"hover:bg-transparent\"\n          >\n            Saved At\n            <ArrowUpDown className=\"ml-2 h-4 w-4\" />\n          </Button>\n        );\n      },\n      cell: ({ row }) => (\n        <div className=\"flex items-center gap-2 text-muted-foreground text-sm\">\n          <Calendar className=\"h-3.5 w-3.5\" />\n          <span>\n            {formatDistanceToNow(row.original.createdAt, { addSuffix: true })}\n          </span>\n        </div>\n      ),\n    },\n    {\n      id: \"actions\",\n      cell: ({ row }) => {\n        const bookmark = row.original;\n\n        const handleNavigate = () => {\n          router.push(\n            `/chat/${bookmark.conversationId}?messageId=${bookmark.messageId}`,\n          );\n        };\n\n        return (\n          <div className=\"flex justify-end\">\n            <DropdownMenu>\n              <DropdownMenuTrigger asChild>\n                <Button variant=\"ghost\" className=\"h-8 w-8 p-0\">\n                  <span className=\"sr-only\">Open menu</span>\n                  <MoreVertical className=\"h-4 w-4\" />\n                </Button>\n              </DropdownMenuTrigger>\n              <DropdownMenuContent align=\"end\">\n                <DropdownMenuItem onClick={handleNavigate}>\n                  <ExternalLink className=\"mr-2 h-4 w-4\" />\n                  Go to Message\n                </DropdownMenuItem>\n                <DropdownMenuItem\n                  onClick={() => onRemove(bookmark._id)}\n                  className=\"text-destructive focus:text-destructive\"\n                >\n                  <Trash2 className=\"mr-2 h-4 w-4\" />\n                  Remove Bookmark\n                </DropdownMenuItem>\n              </DropdownMenuContent>\n            </DropdownMenu>\n          </div>\n        );\n      },\n    },\n  ];\n\n  const table = useReactTable({\n    data: bookmarks,\n    columns,\n    onSortingChange: setSorting,\n    onPaginationChange: setPagination,\n    getCoreRowModel: getCoreRowModel(),\n    getPaginationRowModel: getPaginationRowModel(),\n    getSortedRowModel: getSortedRowModel(),\n    state: {\n      sorting,\n      pagination,\n    },\n  });\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"rounded-md border border-border/40 overflow-hidden bg-background/50\">\n        <Table>\n          <TableHeader className=\"bg-muted/5\">\n            {table.getHeaderGroups().map((headerGroup) => (\n              <TableRow key={headerGroup.id} className=\"hover:bg-transparent\">\n                {headerGroup.headers.map((header) => {\n                  return (\n                    <TableHead key={header.id}>\n                      {header.isPlaceholder\n                        ? null\n                        : flexRender(\n                            header.column.columnDef.header,\n                            header.getContext(),\n                          )}\n                    </TableHead>\n                  );\n                })}\n              </TableRow>\n            ))}\n          </TableHeader>\n          <TableBody>\n            {table.getRowModel().rows?.length ? (\n              table.getRowModel().rows.map((row) => (\n                <TableRow\n                  key={row.id}\n                  data-state={row.getIsSelected() && \"selected\"}\n                  className=\"hover:bg-muted/30 transition-colors\"\n                >\n                  {row.getVisibleCells().map((cell) => (\n                    <TableCell key={cell.id}>\n                      {flexRender(\n                        cell.column.columnDef.cell,\n                        cell.getContext(),\n                      )}\n                    </TableCell>\n                  ))}\n                </TableRow>\n              ))\n            ) : (\n              <TableRow>\n                <TableCell\n                  colSpan={columns.length}\n                  className=\"h-24 text-center\"\n                >\n                  No bookmarks found.\n                </TableCell>\n              </TableRow>\n            )}\n          </TableBody>\n        </Table>\n      </div>\n\n      <div className=\"flex items-center justify-end space-x-2\">\n        <div className=\"text-xs text-muted-foreground\">\n          Page {table.getState().pagination.pageIndex + 1} of{\" \"}\n          {table.getPageCount()}\n        </div>\n        <div className=\"space-x-2\">\n          <Button\n            variant=\"outline\"\n            size=\"sm\"\n            onClick={() => table.previousPage()}\n            disabled={!table.getCanPreviousPage()}\n            className=\"h-8 w-8 p-0\"\n          >\n            {\"<\"}\n          </Button>\n          <Button\n            variant=\"outline\"\n            size=\"sm\"\n            onClick={() => table.nextPage()}\n            disabled={!table.getCanNextPage()}\n            className=\"h-8 w-8 p-0\"\n          >\n            {\">\"}\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"0DAEA,EAAA,CAAA,CAAA,OAAA,IAAA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QCFA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QAEA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QAUO,SAAS,EAAa,UAAE,CAAQ,CAAqB,EAC1D,IAAM,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAElB,EAAiB,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,EAAA,GAAG,CAAC,SAAS,CAAC,MAAM,EAEjD,EAAe,MAAO,IAC1B,EAAE,eAAe,GACjB,GAAI,CACF,MAAM,EAAe,CAAE,WAAY,EAAS,GAAG,AAAC,GAChD,EAAA,KAAK,CAAC,OAAO,CAAC,mBAChB,CAAE,MAAO,EAAQ,CACf,EAAA,KAAK,CAAC,KAAK,CAAC,4BACd,CACF,EAUA,GAAI,CAAC,EAAS,OAAO,EAAI,CAAC,EAAS,YAAY,CAC7C,CAD+C,MACxC,KAGT,IAAM,EACJ,EAAS,OAAO,CAAC,OAAO,CAAC,MAAM,CAAG,IAC9B,CAAA,EAAG,EAAS,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,EAAG,KAAK,GAAG,CAAC,CAC9C,EAAS,OAAO,CAAC,OAAO,CAE9B,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,CACH,UAAU,wHACV,QApBmB,CAoBV,IAnBP,EAAS,YAAY,EAAE,AACzB,EAAO,IAAI,CACT,CAAC,MAAM,EAAE,EAAS,cAAc,CAAC,WAAW,EAAE,EAAS,SAAS,CAAA,CAAE,CAGxE,YAgBI,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,UAAU,8BACpB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6CACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,gCACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yEACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,0EACb,EAAS,YAAY,CAAC,KAAK,GAE9B,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAK,MACN,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAM,CAAA,EAAA,EAAA,MAAA,AAAM,EAAC,EAAS,SAAS,CAAE,cAEpC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,mEACZ,OAIL,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gGACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAQ,QACR,KAAK,OACL,UAAU,uDACV,QAAS,EACT,MAAM,2BAEN,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,UAAU,yBAM1B,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,qBACpB,EAAS,IAAI,EACZ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sGAA4F,IACvG,EAAS,IAAI,CAAC,OAInB,EAAS,IAAI,EAAI,EAAS,IAAI,CAAC,MAAM,CAAG,GACvC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sEACZ,EAAS,IAAI,CAAC,GAAG,CAAC,AAAC,GAClB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAEJ,QAAQ,YACR,UAAU,0FAET,GAJI,WAYrB,CC3GA,IAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QASA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAQA,EAAA,EAAA,CAAA,CAAA,QAKA,EAAA,EAAA,CAAA,CAAA,QAMA,EAAA,EAAA,CAAA,CAAA,QAcO,SAAS,EAAe,WAAE,CAAS,UAAE,CAAQ,CAAsB,EACxE,IAAM,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAClB,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAe,EAAE,EACjD,CAAC,EAAY,EAAc,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,CAC3C,UAAW,EACX,SAAU,EACZ,GAEM,EAA4B,CAChC,CACE,YAAa,qBACb,OAAQ,CAAC,CAAE,QAAM,CAAE,GAEf,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAQ,QACR,QAAS,IAAM,EAAO,aAAa,CAA0B,QAAzB,EAAO,WAAW,IACtD,UAAU,uCACX,eAEC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,oBAI7B,KAAM,CAAC,KAAE,CAAG,CAAE,GACZ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wCACb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,OAAI,CAAA,CACH,KAAM,CAAC,MAAM,EAAE,EAAI,QAAQ,CAAC,cAAc,CAAC,WAAW,EAAE,EAAI,QAAQ,CAAC,SAAS,CAAA,CAAE,CAChF,UAAU,gFAEV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,CAAC,UAAU,kCACxB,EAAI,QAAQ,CAAC,YAAY,EAAE,OAAS,2BAEtC,EAAI,QAAQ,CAAC,IAAI,EAChB,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,uFAA6E,IACzF,EAAI,QAAQ,CAAC,IAAI,CAAC,SAK9B,EACA,CACE,GAAI,UACJ,OAAQ,UACR,KAAM,CAAC,KAAE,CAAG,CAAE,IACZ,IAAM,EAAU,EAAI,QAAQ,CAAC,OAAO,EAAE,SAAW,GAC3C,EACJ,EAAQ,MAAM,CAAG,GAAK,CAAA,EAAG,EAAQ,KAAK,CAAC,EAAG,IAAI,GAAG,CAAC,CAAG,EACvD,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CACC,UAAU,6CACV,MAAO,WAEN,GAGP,CACF,EACA,CACE,YAAa,OACb,OAAQ,OACR,KAAM,CAAC,KAAE,CAAG,CAAE,IACZ,IAAM,EAAO,EAAI,QAAQ,CAAC,IAAI,EAAI,EAAE,QACpC,AAAoB,GAClB,CADE,EAAK,MAAM,CACN,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yCAAgC,MAGvD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iCACZ,EAAK,KAAK,CAAC,EAAG,GAAG,GAAG,CAAC,AAAC,GACrB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAEJ,QAAQ,YACR,UAAU,0FAET,GAJI,IAOR,EAAK,MAAM,CAAG,GACb,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,8CAAoC,IAChD,EAAK,MAAM,CAAG,OAK1B,CACF,EACA,CACE,YAAa,YACb,OAAQ,CAAC,QAAE,CAAM,CAAE,GAEf,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAQ,QACR,QAAS,IAAM,EAAO,aAAa,CAA0B,QAAzB,EAAO,WAAW,IACtD,UAAU,iCACX,WAEC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,oBAI7B,KAAM,CAAC,KAAE,CAAG,CAAE,GACZ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kEACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,UAAU,gBACpB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UACE,CAAA,EAAA,EAAA,mBAAA,AAAmB,EAAC,EAAI,QAAQ,CAAC,SAAS,CAAE,CAAE,UAAW,EAAK,OAIvE,EACA,CACE,GAAI,UACJ,KAAM,CAAC,KAAE,CAAG,CAAE,IACZ,IAAM,EAAW,EAAI,QAAQ,CAQ7B,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4BACb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,YAAY,CAAA,WACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,mBAAmB,CAAA,CAAC,OAAO,CAAA,CAAA,WAC1B,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CAAC,QAAQ,QAAQ,UAAU,wBAChC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,mBAAU,cAC1B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,YAAY,CAAA,CAAC,UAAU,iBAG5B,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,mBAAmB,CAAA,CAAC,MAAM,gBACzB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,gBAAgB,CAAA,CAAC,QAhBH,CAgBY,IAfjC,EAAO,IAAI,CACT,CAAC,MAAM,EAAE,EAAS,cAAc,CAAC,WAAW,EAAE,EAAS,SAAS,CAAA,CAAE,CAEtE,YAaU,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,YAAY,CAAA,CAAC,UAAU,iBAAiB,mBAG3C,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,gBAAgB,CAAA,CACf,QAAS,IAAM,EAAS,EAAS,GAAG,EACpC,UAAU,oDAEV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,UAAU,iBAAiB,4BAO/C,CACF,EACD,CAEK,EAAQ,CAAA,EAAA,EAAA,aAAA,AAAa,EAAC,CAC1B,KAAM,UACN,EACA,gBAAiB,EACjB,mBAAoB,EACpB,gBAAiB,CAAA,EAAA,EAAA,eAAA,AAAe,IAChC,sBAAuB,CAAA,EAAA,EAAA,qBAAA,AAAqB,IAC5C,kBAAmB,CAAA,EAAA,EAAA,iBAAA,AAAiB,IACpC,MAAO,SACL,aACA,CACF,CACF,GAEA,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,+EACb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,KAAK,CAAA,WACJ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,sBACpB,EAAM,eAAe,GAAG,GAAG,CAAC,AAAC,GAC5B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAsB,UAAU,gCACtC,EAAY,OAAO,CAAC,GAAG,CAAC,AAAC,GAEtB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,UACP,EAAO,aAAa,CACjB,KACA,CAAA,EAAA,EAAA,UAAA,AAAU,EACR,EAAO,MAAM,CAAC,SAAS,CAAC,MAAM,CAC9B,EAAO,UAAU,KALT,EAAO,EAAE,IAHhB,EAAY,EAAE,KAgBjC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,UACP,EAAM,WAAW,GAAG,IAAI,EAAE,OACzB,EAAM,WAAW,GAAG,IAAI,CAAC,GAAG,CAAC,AAAC,GAC5B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAEP,aAAY,EAAI,aAAa,IAAM,WACnC,UAAU,+CAET,EAAI,eAAe,GAAG,GAAG,CAAC,AAAC,GAC1B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,UACP,CAAA,EAAA,EAAA,UAAA,AAAU,EACT,EAAK,MAAM,CAAC,SAAS,CAAC,IAAI,CAC1B,EAAK,UAAU,KAHH,EAAK,EAAE,IALpB,EAAI,EAAE,GAef,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,UACP,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CACR,QAAS,EAAQ,MAAM,CACvB,UAAU,4BACX,iCASX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0CAAgC,QACvC,EAAM,QAAQ,GAAG,UAAU,CAAC,SAAS,CAAG,EAAE,MAAI,IACnD,EAAM,YAAY,MAErB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAQ,UACR,KAAK,KACL,QAAS,IAAM,EAAM,YAAY,GACjC,SAAU,CAAC,EAAM,kBAAkB,GACnC,UAAU,uBAET,MAEH,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAQ,UACR,KAAK,KACL,QAAS,IAAM,EAAM,QAAQ,GAC7B,SAAU,CAAC,EAAM,cAAc,GAC/B,UAAU,uBAET,cAMb,CFzRA,IAAA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QAEA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QAKA,SAAS,IACP,GAAM,eAAE,CAAa,CAAE,WAAS,CAAE,CAAG,CAAA,EAAA,EAAA,iBAAA,AAAiB,IAGtD,GAAI,EACF,MAAO,CAAA,EADM,AACN,EAAA,GAAA,EAAC,EAAA,oBAAoB,CAAA,CAAA,GAI9B,GAAI,CAAC,EACH,MACE,CAAA,EAAA,EAAA,EAFgB,CAEhB,EAAC,EAAA,mBAAmB,CAAA,CAAC,YAAY,YAAY,WAAW,kBAK5D,IAAM,EAAY,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,EAAA,GAAG,CAAC,SAAS,CAAC,IAAI,EACvC,EAAiB,CAAA,EAAA,EAAA,WAAW,AAAX,EAAY,EAAA,GAAG,CAAC,SAAS,CAAC,MAAM,EAEjD,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACzC,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAmB,QAErD,EAAoB,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,KAChC,GAAI,CAAC,EAAW,MAAO,EAAE,CACzB,GAAI,CAAC,EAAa,OAAO,EAEzB,IAAM,EAAQ,EAAY,WAAW,GACrC,OAAO,EAAU,MAAM,CAAC,AAAC,IACvB,IAAM,EAAiB,EAAS,OAAO,EAAE,QAAQ,eAAiB,GAC5D,EACJ,EAAS,YAAY,EAAE,MAAM,eAAiB,GAC1C,EAAO,EAAS,IAAI,EAAE,eAAiB,GACvC,EAAO,EAAS,IAAI,EAAE,KAAK,KAAK,eAAiB,GAEvD,OACE,EAAe,QAAQ,CAAC,IACxB,EAAkB,QAAQ,CAAC,IAC3B,EAAK,QAAQ,CAAC,IACd,EAAK,QAAQ,CAAC,EAElB,EACF,EAAG,CAAC,EAAW,EAAY,EAErB,EAAe,MAAO,IAC1B,GAAI,CACF,MAAM,EAAe,CAAE,WAAY,CAAU,GAC7C,EAAA,KAAK,CAAC,OAAO,CAAC,mBAChB,CAAE,MAAO,EAAQ,CACf,EAAA,KAAK,CAAC,KAAK,CAAC,4BACd,CACF,SAEA,KAAkB,IAAd,EAEA,CAAA,EAAA,EAFyB,AAEzB,GAAA,EAAC,MAAA,CAAI,UAAU,qDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6CACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,mFACf,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,+CAAsC,8BASzD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mGAEb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gGACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yEACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,4CAAmC,cACjD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCAAgC,wCAK/C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qDAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iFACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAsB,SAAb,EAAsB,YAAc,QAC7C,KAAK,OACL,UAAU,qBACV,QAAS,IAAM,EAAY,QAC3B,MAAM,qBAEN,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,UAAU,cAExB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAsB,UAAb,EAAuB,YAAc,QAC9C,KAAK,OACL,UAAU,qBACV,QAAS,IAAM,EAAY,SAC3B,MAAM,sBAEN,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,iBAIpB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0CACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,UAAU,oIAClB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,YAAY,sBACZ,MAAO,EACP,SAAU,AAAC,GAAM,EAAe,EAAE,MAAM,CAAC,KAAK,EAC9C,UAAU,0HAStB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,UAAU,iCACpB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iDACiB,IAA7B,EAAkB,MAAM,CACvB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kFACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,+EACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,UAAU,uCAEtB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uCACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,iCACX,EAAc,wBAA0B,qBAE3C,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCACV,EACG,mCACA,+CAIK,SAAb,EACF,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,+EACZ,EAAkB,GAAG,CAAC,AAAC,GACtB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAgC,SAAU,GAAxB,EAAS,GAAG,KAInC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CACC,UAAW,EACX,SAAU,UAOxB,CAEA,SAAS,IACP,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6CACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,mFACf,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,+CAAsC,6BAM3D,CAEe,SAAS,IACtB,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,SAAU,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAA,YACnB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAA,IAGP,kCA7KuB"}