module.exports=[312179,a=>{"use strict";var b=a.i(367146),c=a.i(130487);a.i(16243);var d=a.i(182234),e=a.i(971310),f=a.i(502311),g=a.i(537500),h=a.i(753884),i=a.i(828288),j=a.i(539524),k=a.i(928503),l=a.i(658547),m=a.i(197463);function n({params:a}){let{id:n}=(0,g.use)(a),o=(0,f.useRouter)(),p=(0,d.useQuery)(c.api.projects.get,{id:n}),q=(0,d.useMutation)(c.api.projects.update),r=(0,d.useMutation)(c.api.projects.deleteProject),[s,t]=(0,g.useState)(""),[u,v]=(0,g.useState)(""),[w,x]=(0,g.useState)(""),[y,z]=(0,g.useState)(!1);!p||y||s||(t(p.name),v(p.description||""),x(p.systemPrompt||""));let A=async()=>{try{await q({id:n,name:s,description:u,systemPrompt:w}),h.toast.success("Project updated"),z(!1)}catch(a){h.toast.error("Failed to update project"),console.error(a)}},B=async()=>{try{await r({id:n}),h.toast.success("Project deleted"),o.push("/projects")}catch(a){h.toast.error("Failed to delete project"),console.error(a)}};return p?(0,b.jsxs)("div",{className:"flex flex-col h-full bg-background/50 backdrop-blur-xl max-w-2xl mx-auto w-full",children:[(0,b.jsxs)("header",{className:"p-6 border-b bg-background/40 mb-6",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold tracking-tight",children:"Project Settings"}),(0,b.jsx)("p",{className:"text-muted-foreground text-sm",children:"Manage your project configuration"})]}),(0,b.jsxs)("div",{className:"px-6 space-y-8 pb-10",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(l.Label,{htmlFor:"name",children:"Project Name"}),(0,b.jsx)(k.Input,{id:"name",value:s,onChange:a=>{t(a.target.value),z(!0)},placeholder:"e.g. Website Redesign"})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(l.Label,{htmlFor:"description",children:"Description"}),(0,b.jsx)(m.Textarea,{id:"description",value:u,onChange:a=>{v(a.target.value),z(!0)},placeholder:"Brief description of the project",className:"resize-none h-24"})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsxs)(l.Label,{htmlFor:"systemPrompt",children:["System Prompt"," ",(0,b.jsx)("span",{className:"text-xs text-muted-foreground",children:"(Optional)"})]}),(0,b.jsx)(m.Textarea,{id:"systemPrompt",value:w,onChange:a=>{x(a.target.value),z(!0)},placeholder:"Custom instructions for AI whenever working in this project context...",className:"resize-y h-32 font-mono text-sm"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"This prompt will be injected into AI context for chats linked to this project."})]}),(0,b.jsx)("div",{className:"pt-4 flex justify-end",children:(0,b.jsx)(j.Button,{onClick:A,disabled:!y,children:"Save Changes"})})]}),(0,b.jsxs)("div",{className:"border-t pt-8",children:[(0,b.jsx)("h3",{className:"text-lg font-medium text-destructive mb-4",children:"Danger Zone"}),(0,b.jsxs)("div",{className:"bg-destructive/10 border border-destructive/20 rounded-lg p-4 flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-destructive",children:"Delete Project"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Permanently delete this project and all its data."})]}),(0,b.jsxs)(i.AlertDialog,{children:[(0,b.jsx)(i.AlertDialogTrigger,{asChild:!0,children:(0,b.jsxs)(j.Button,{variant:"destructive",children:[(0,b.jsx)(e.Trash2,{className:"mr-2 h-4 w-4"}),"Delete Project"]})}),(0,b.jsxs)(i.AlertDialogContent,{children:[(0,b.jsxs)(i.AlertDialogHeader,{children:[(0,b.jsx)(i.AlertDialogTitle,{children:"Are you absolutely sure?"}),(0,b.jsxs)(i.AlertDialogDescription,{children:["This action cannot be undone. This will permanently delete the project ",(0,b.jsx)("strong",{children:p.name})," and remove all associations. tasks, notes, and files will remain but be unlinked."]})]}),(0,b.jsxs)(i.AlertDialogFooter,{children:[(0,b.jsx)(i.AlertDialogCancel,{children:"Cancel"}),(0,b.jsx)(i.AlertDialogAction,{onClick:B,className:"bg-destructive hover:bg-destructive/90",children:"Delete Project"})]})]})]})]})]})]})]}):(0,b.jsx)("div",{className:"p-8",children:"Loading..."})}a.s(["default",()=>n])}];

//# sourceMappingURL=apps_web_src_app_%28main%29_projects_%5Bid%5D_settings_page_tsx_cb5874a3._.js.map