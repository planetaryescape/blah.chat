{"version":3,"sources":["../../../../../../apps/web/src/app/%28main%29/shortcuts/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { Search } from \"lucide-react\";\nimport { useMemo, useState } from \"react\";\nimport { Input } from \"@/components/ui/input\";\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\nimport { KEYBOARD_SHORTCUTS } from \"@/hooks/useKeyboardShortcuts\";\nimport { getModifierKey } from \"@/lib/utils/platform\";\n\n// Helper to parse shortcut string into display parts\nfunction parseShortcut(shortcut: string): string {\n  const mod = getModifierKey();\n  return shortcut.replace(/Cmd\\/Ctrl/g, mod);\n}\n\ninterface ShortcutItem {\n  keys: string;\n  description: string;\n  category: string;\n}\n\nexport default function ShortcutsPage() {\n  const [searchQuery, setSearchQuery] = useState(\"\");\n\n  // Flatten shortcuts into searchable list\n  const allShortcuts = useMemo(() => {\n    const shortcuts: ShortcutItem[] = [];\n\n    for (const [category, items] of Object.entries(KEYBOARD_SHORTCUTS)) {\n      for (const [keys, description] of Object.entries(items)) {\n        shortcuts.push({\n          keys,\n          description,\n          category: category.charAt(0).toUpperCase() + category.slice(1),\n        });\n      }\n    }\n\n    return shortcuts;\n  }, []);\n\n  // Filter shortcuts by search query\n  const filteredShortcuts = useMemo(() => {\n    if (!searchQuery.trim()) return allShortcuts;\n\n    const query = searchQuery.toLowerCase();\n    return allShortcuts.filter(\n      (s) =>\n        s.description.toLowerCase().includes(query) ||\n        s.keys.toLowerCase().includes(query) ||\n        s.category.toLowerCase().includes(query),\n    );\n  }, [searchQuery, allShortcuts]);\n\n  // Group filtered shortcuts by category\n  const groupedShortcuts = useMemo(() => {\n    const groups: Record<string, ShortcutItem[]> = {};\n\n    for (const shortcut of filteredShortcuts) {\n      if (!groups[shortcut.category]) {\n        groups[shortcut.category] = [];\n      }\n      groups[shortcut.category].push(shortcut);\n    }\n\n    return groups;\n  }, [filteredShortcuts]);\n\n  const categoryDisplayNames: Record<string, string> = {\n    Global: \"Global\",\n    Chat: \"Chat Input\",\n    Messageactions: \"Message Actions\",\n  };\n\n  return (\n    <div className=\"h-[calc(100vh-theme(spacing.16))] flex flex-col relative bg-background overflow-hidden\">\n      {/* Fixed Header */}\n      <div className=\"flex-none z-50 bg-background/80 backdrop-blur-md border-b border-border/40 shadow-sm\">\n        <div className=\"container mx-auto max-w-6xl px-4 py-4\">\n          <div className=\"flex flex-col md:flex-row md:items-end justify-between gap-6\">\n            <div className=\"space-y-1\">\n              <h1 className=\"text-xl font-bold tracking-tight\">\n                Keyboard Shortcuts\n              </h1>\n              <p className=\"text-sm text-muted-foreground\">\n                Work faster with keyboard shortcuts\n              </p>\n            </div>\n\n            <div className=\"relative w-full md:w-80 group\">\n              <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground group-focus-within:text-primary transition-colors\" />\n              <Input\n                type=\"text\"\n                placeholder=\"Search shortcuts...\"\n                value={searchQuery}\n                onChange={(e) => setSearchQuery(e.target.value)}\n                className=\"pl-9 bg-background border-border/50 focus:bg-background transition-all\"\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Scrollable Content */}\n      <ScrollArea className=\"flex-1 w-full min-h-0\">\n        <div className=\"container mx-auto max-w-6xl px-4 py-8\">\n          {Object.keys(groupedShortcuts).length === 0 ? (\n            <div className=\"text-center py-24 text-muted-foreground flex flex-col items-center\">\n              <div className=\"h-16 w-16 rounded-full bg-muted/30 flex items-center justify-center mb-4\">\n                <Search className=\"h-8 w-8 text-muted-foreground/40\" />\n              </div>\n              <h3 className=\"text-lg font-semibold\">No shortcuts found</h3>\n              <p className=\"text-sm\">No shortcuts match \"{searchQuery}\"</p>\n            </div>\n          ) : (\n            <div className=\"space-y-10\">\n              {Object.entries(groupedShortcuts).map(([category, shortcuts]) => (\n                <div key={category}>\n                  <h2 className=\"text-sm font-semibold mb-4 text-muted-foreground uppercase tracking-wider\">\n                    {categoryDisplayNames[category] || category}\n                  </h2>\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3\">\n                    {shortcuts.map((shortcut, index) => (\n                      <ShortcutCard\n                        key={`${category}-${index}`}\n                        keys={shortcut.keys}\n                        description={shortcut.description}\n                      />\n                    ))}\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n      </ScrollArea>\n    </div>\n  );\n}\n\nfunction ShortcutCard({\n  keys,\n  description,\n}: {\n  keys: string;\n  description: string;\n}) {\n  const displayKeys = parseShortcut(keys);\n\n  return (\n    <div className=\"flex items-center justify-between gap-4 p-3 rounded-lg border border-border/50 bg-card/50 hover:bg-card hover:border-border transition-all\">\n      <span className=\"text-sm text-foreground/80\">{description}</span>\n      <ShortcutBadge keys={displayKeys} />\n    </div>\n  );\n}\n\nfunction ShortcutBadge({ keys }: { keys: string }) {\n  // Split on common separators\n  const parts = keys\n    .split(/(\\s*\\+\\s*|\\s+then\\s+|\\s*,\\s*)/)\n    .filter((p) => p.trim() && p !== \"+\");\n\n  return (\n    <div className=\"flex items-center gap-1.5 flex-wrap justify-end\">\n      {parts.map((part, index) => {\n        const trimmed = part.trim();\n        // Skip pure separators\n        if (trimmed === \"+\" || trimmed === \"then\" || trimmed === \",\") {\n          return (\n            <span key={index} className=\"text-xs text-muted-foreground\">\n              {trimmed}\n            </span>\n          );\n        }\n\n        return (\n          <kbd\n            key={index}\n            className=\"px-2.5 py-1.5 text-xs font-semibold rounded-md bg-muted/80 border border-border shadow-sm min-w-[2rem] text-center font-mono\"\n          >\n            {trimmed}\n          </kbd>\n        );\n      })}\n    </div>\n  );\n}\n"],"names":[],"mappings":"0DAEA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QAce,SAAS,IACtB,GAAM,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAGzC,EAAe,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,KAC3B,IAAM,EAA4B,EAAE,CAEpC,IAAK,GAAM,CAAC,EAAU,EAAM,GAAI,OAAO,OAAO,CAAC,EAAA,kBAAkB,EAAG,AAClE,IAAK,GAAM,CAAC,EAAM,EAAY,GAAI,OAAO,OAAO,CAAC,GAC/C,EAAU,EAD6C,EACzC,CAAC,CACb,mBACA,EACA,SAAU,EAAS,MAAM,CAAC,GAAG,WAAW,GAAK,EAAS,KAAK,CAAC,EAC9D,GAIJ,OAAO,CACT,EAAG,EAAE,EAGC,EAAoB,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,KAChC,GAAI,CAAC,EAAY,IAAI,GAAI,OAAO,EAEhC,IAAM,EAAQ,EAAY,WAAW,GACrC,OAAO,EAAa,MAAM,CACxB,AAAC,GACC,EAAE,WAAW,CAAC,WAAW,GAAG,QAAQ,CAAC,IACrC,EAAE,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,IAC9B,EAAE,QAAQ,CAAC,WAAW,GAAG,QAAQ,CAAC,GAExC,EAAG,CAAC,EAAa,EAAa,EAGxB,EAAmB,CAAA,EAAA,EAAA,OAAO,AAAP,EAAQ,KAC/B,IAAM,EAAyC,CAAC,EAEhD,IAAK,IAAM,KAAY,EACjB,AAAC,CAAM,CAAC,EAAS,QAAQ,CAAC,EAAE,CAC9B,AAFsC,CAEhC,CAAC,EAAS,QAAQ,CAAC,CAAG,EAAA,AAAE,EAEhC,CAAM,CAAC,EAAS,QAAQ,CAAC,CAAC,IAAI,CAAC,GAGjC,OAAO,CACT,EAAG,CAAC,EAAkB,EAEhB,EAA+C,CACnD,OAAQ,SACR,KAAM,aACN,eAAgB,iBAClB,EAEA,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mGAEb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gGACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yEACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,4CAAmC,uBAGjD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCAAgC,2CAK/C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0CACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,UAAU,6HAClB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,KAAK,OACL,YAAY,sBACZ,MAAO,EACP,SAAU,AAAC,GAAM,EAAe,EAAE,MAAM,CAAC,KAAK,EAC9C,UAAU,qFAQpB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,UAAU,iCACpB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iDACZ,AAAyC,WAAlC,IAAI,CAAC,GAAkB,MAAM,CACnC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,+EACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,oFACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,UAAU,uCAEpB,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,iCAAwB,uBACtC,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,oBAAU,uBAAqB,EAAY,UAG1D,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sBACZ,OAAO,OAAO,CAAC,GAAkB,GAAG,CAAC,CAAC,CAAC,EAAU,EAAU,GAC1D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qFACX,CAAoB,CAAC,EAAS,EAAI,IAErC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gEACZ,EAAU,GAAG,CAAC,CAAC,EAAU,IACxB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAEC,KAAM,EAAS,IAAI,CACnB,YAAa,EAAS,WAAW,EAF5B,CAAA,EAAG,EAAS,CAAC,EAAE,EAAA,CAAO,OAPzB,YAqB1B,CAEA,SAAS,EAAa,MACpB,CAAI,aACJ,CAAW,CAIZ,QACO,GAxIA,EAAM,CAAA,EAAA,EAAA,IAwIQ,UAxIR,AAAc,IACnB,AAuI2B,EAvIlB,OAAO,CAAC,aAAc,IAyItC,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uJACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,sCAA8B,IAC9C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAc,KAAM,MAG3B,CAEA,SAAS,EAAc,CAAE,MAAI,CAAoB,EAE/C,IAAM,EAAQ,EACX,KAAK,CAAC,iCACN,MAAM,CAAC,AAAC,GAAM,EAAE,IAAI,IAAM,AAAM,SAEnC,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,2DACZ,EAAM,GAAG,CAAC,CAAC,EAAM,KAChB,IAAM,EAAU,EAAK,IAAI,SAEzB,AAAgB,MAAZ,GAA+B,SAAZ,GAAkC,KAAK,CAAjB,EAEzC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAiB,UAAU,yCACzB,GADQ,GAOb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAEC,UAAU,wIAET,GAHI,EAMX,IAGN"}