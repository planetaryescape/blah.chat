{"version":3,"sources":["../../../../../../apps/web/src/app/%28main%29/templates/page.tsx","../../../../../../apps/web/src/components/templates/TemplateCard.tsx","../../../../../../apps/web/src/components/templates/TemplateForm.tsx"],"sourcesContent":["\"use client\";\n\nimport { FileText, Plus } from \"lucide-react\";\nimport { useSearchParams } from \"next/navigation\";\nimport { useEffect, useState } from \"react\";\nimport { TemplateCard } from \"@/components/templates/TemplateCard\";\nimport { TemplateForm } from \"@/components/templates/TemplateForm\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\nimport { Tabs, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\n\nconst CATEGORIES = [\"all\", \"coding\", \"writing\", \"analysis\", \"creative\"];\n\nimport { api } from \"@blah-chat/backend/convex/_generated/api\";\nimport type { Doc } from \"@blah-chat/backend/convex/_generated/dataModel\";\nimport { useMutation, useQuery } from \"convex/react\";\nimport { toast } from \"sonner\";\nimport { DisabledFeaturePage } from \"@/components/DisabledFeaturePage\";\nimport { FeatureLoadingScreen } from \"@/components/FeatureLoadingScreen\";\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\nimport { useFeatureToggles } from \"@/hooks/useFeatureToggles\";\n\nexport default function TemplatesPage() {\n  const { showTemplates, isLoading } = useFeatureToggles();\n\n  // Show loading while preferences are being fetched\n  if (isLoading) {\n    return <FeatureLoadingScreen />;\n  }\n\n  // Route guard: show disabled page if templates feature is off\n  if (!showTemplates) {\n    return (\n      <DisabledFeaturePage featureName=\"Templates\" settingKey=\"showTemplates\" />\n    );\n  }\n\n  const searchParams = useSearchParams();\n  const [selectedCategory, setSelectedCategory] = useState(\"all\");\n  const [isCreateOpen, setIsCreateOpen] = useState(false);\n  const [hasSeeded, setHasSeeded] = useState(false);\n\n  // Handle ?action=new query param from command palette\n  useEffect(() => {\n    if (searchParams.get(\"action\") === \"new\") {\n      setIsCreateOpen(true);\n      // Clean URL to avoid reopening on refresh\n      window.history.replaceState({}, \"\", \"/templates\");\n    }\n  }, [searchParams]);\n\n  // @ts-ignore - Type depth exceeded with complex Convex query (85+ modules)\n  const templates: Doc<\"templates\">[] | undefined = useQuery(\n    api.templates.list,\n    selectedCategory === \"all\" ? {} : { category: selectedCategory },\n  );\n\n  // @ts-ignore - Type depth exceeded with complex Convex mutation (85+ modules)\n  const seedBuiltIn = useMutation(api.templates.builtIn.seedBuiltInTemplates);\n\n  useEffect(() => {\n    const checkAndSeed = async () => {\n      if (templates && templates.length === 0 && !hasSeeded) {\n        try {\n          const result = await seedBuiltIn();\n          toast.success(result.message);\n          setHasSeeded(true);\n        } catch (error) {\n          console.error(\"Failed to seed templates:\", error);\n        }\n      }\n    };\n    checkAndSeed();\n  }, [templates, hasSeeded, seedBuiltIn]);\n\n  const builtInTemplates = templates?.filter((t: any) => t.isBuiltIn) || [];\n  const userTemplates = templates?.filter((t: any) => !t.isBuiltIn) || [];\n\n  return (\n    <div className=\"h-[calc(100vh-theme(spacing.16))] flex flex-col relative bg-background overflow-hidden\">\n      {/* Fixed Header */}\n      <div className=\"flex-none z-50 bg-background/80 backdrop-blur-md border-b border-border/40 shadow-sm\">\n        <div className=\"container mx-auto max-w-6xl px-4 py-4\">\n          <div className=\"flex flex-col md:flex-row md:items-end justify-between gap-6\">\n            <div className=\"space-y-1\">\n              <h1 className=\"text-xl font-bold tracking-tight\">Templates</h1>\n              <p className=\"text-sm text-muted-foreground\">\n                Quick-start prompts for common tasks\n              </p>\n            </div>\n            <div className=\"flex items-center gap-4\">\n              <Tabs\n                value={selectedCategory}\n                onValueChange={setSelectedCategory}\n                className=\"w-full md:w-auto\"\n              >\n                <TabsList className=\"bg-muted/50\">\n                  {CATEGORIES.map((cat: any) => (\n                    <TabsTrigger\n                      key={cat}\n                      value={cat}\n                      className=\"capitalize data-[state=active]:bg-background data-[state=active]:shadow-sm\"\n                    >\n                      {cat}\n                    </TabsTrigger>\n                  ))}\n                </TabsList>\n              </Tabs>\n              <Button\n                onClick={() => setIsCreateOpen(true)}\n                size=\"sm\"\n                className=\"hidden md:flex\"\n              >\n                <Plus className=\"w-4 h-4 mr-2\" />\n                New Template\n              </Button>\n              <Button\n                onClick={() => setIsCreateOpen(true)}\n                size=\"icon\"\n                className=\"md:hidden\"\n              >\n                <Plus className=\"w-4 h-4\" />\n              </Button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Scrollable Content */}\n      <ScrollArea className=\"flex-1 w-full min-h-0\">\n        <div className=\"container mx-auto max-w-6xl px-4 py-8\">\n          <div className=\"space-y-10\">\n            {userTemplates.length > 0 && (\n              <div>\n                <h2 className=\"text-sm font-semibold mb-4 text-muted-foreground uppercase tracking-wider\">\n                  Your Templates\n                </h2>\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n                  {userTemplates.map((template: any) => (\n                    <TemplateCard key={template._id} template={template} />\n                  ))}\n                </div>\n              </div>\n            )}\n\n            {builtInTemplates.length > 0 && (\n              <div>\n                <h2 className=\"text-sm font-semibold mb-4 text-muted-foreground uppercase tracking-wider\">\n                  Built-in Templates\n                </h2>\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n                  {builtInTemplates.map((template: any) => (\n                    <TemplateCard key={template._id} template={template} />\n                  ))}\n                </div>\n              </div>\n            )}\n\n            {templates && templates.length === 0 && (\n              <div className=\"text-center py-24 text-muted-foreground flex flex-col items-center\">\n                <div className=\"h-16 w-16 rounded-full bg-muted/30 flex items-center justify-center mb-4\">\n                  <FileText className=\"h-8 w-8 text-muted-foreground/40\" />\n                </div>\n                <h3 className=\"text-lg font-semibold\">No templates found</h3>\n                <p className=\"text-sm\">Create a new template to get started.</p>\n              </div>\n            )}\n          </div>\n        </div>\n      </ScrollArea>\n\n      <Dialog open={isCreateOpen} onOpenChange={setIsCreateOpen}>\n        <DialogContent className=\"max-w-2xl\">\n          <DialogHeader>\n            <DialogTitle>Create New Template</DialogTitle>\n          </DialogHeader>\n          <TemplateForm onSuccess={() => setIsCreateOpen(false)} />\n        </DialogContent>\n      </Dialog>\n    </div>\n  );\n}\n","\"use client\";\n\nimport { api } from \"@blah-chat/backend/convex/_generated/api\";\nimport type { Id } from \"@blah-chat/backend/convex/_generated/dataModel\";\nimport { useMutation } from \"convex/react\";\nimport {\n  Copy,\n  Edit,\n  FileText,\n  MoreHorizontal,\n  Sparkles,\n  Trash2,\n} from \"lucide-react\";\nimport { useRouter } from \"next/navigation\";\nimport { useState } from \"react\";\nimport { toast } from \"sonner\";\nimport {\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogTitle,\n} from \"@/components/ui/alert-dialog\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card } from \"@/components/ui/card\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport { cn } from \"@/lib/utils\";\nimport { useTemplateStore } from \"@/stores/templateStore\";\nimport { TemplateForm } from \"./TemplateForm\";\n\ninterface TemplateCardProps {\n  template: {\n    _id: Id<\"templates\">;\n    name: string;\n    prompt: string;\n    description?: string;\n    category: string;\n    isBuiltIn: boolean;\n    usageCount: number;\n  };\n}\n\nexport function TemplateCard({ template }: TemplateCardProps) {\n  const router = useRouter();\n  const [isEditOpen, setIsEditOpen] = useState(false);\n  const [isDeleteOpen, setIsDeleteOpen] = useState(false);\n  // @ts-ignore - Type depth exceeded with complex Convex mutation\n  const deleteTemplate = useMutation(api.templates.deleteTemplate);\n  // @ts-ignore - Type depth exceeded with complex Convex mutation\n  const incrementUsage = useMutation(api.templates.incrementUsage);\n  const setTemplateText = useTemplateStore((s) => s.setTemplateText);\n\n  const handleDelete = async () => {\n    try {\n      await deleteTemplate({ id: template._id });\n      toast.success(\"Template deleted\");\n    } catch (error) {\n      toast.error(\"Failed to delete template\");\n      console.error(error);\n    }\n  };\n\n  const handleUse = async () => {\n    try {\n      await incrementUsage({ id: template._id });\n      setTemplateText(template.prompt, template.name);\n      router.push(\"/chat?from=template\");\n    } catch (error) {\n      toast.error(\"Failed to use template\");\n      console.error(error);\n    }\n  };\n\n  return (\n    <>\n      <Card className=\"group relative flex flex-col justify-between p-5 transition-all duration-300 hover:border-primary/20 hover:bg-muted/10\">\n        <div className=\"space-y-4\">\n          <div className=\"flex items-start justify-between gap-3\">\n            <div className=\"flex items-center gap-3 overflow-hidden\">\n              <div\n                className={cn(\n                  \"flex h-9 w-9 shrink-0 items-center justify-center rounded-lg border border-border/50 bg-primary/10 text-primary\",\n                )}\n              >\n                {template.isBuiltIn ? (\n                  <Sparkles className=\"h-4 w-4\" />\n                ) : (\n                  <FileText className=\"h-4 w-4\" />\n                )}\n              </div>\n              <div className=\"flex flex-col overflow-hidden\">\n                <h3 className=\"truncate text-base font-semibold text-foreground leading-tight\">\n                  {template.name}\n                </h3>\n                <span className=\"truncate text-xs text-muted-foreground font-medium uppercase tracking-wide mt-0.5\">\n                  {template.category}\n                </span>\n              </div>\n            </div>\n\n            <div className=\"flex items-center gap-1\">\n              <DropdownMenu>\n                <DropdownMenuTrigger asChild>\n                  <Button\n                    variant=\"ghost\"\n                    size=\"icon\"\n                    className=\"h-8 w-8 opacity-0 transition-opacity group-hover:opacity-100 data-[state=open]:opacity-100 -mr-2 -mt-2\"\n                  >\n                    <MoreHorizontal className=\"h-4 w-4 text-muted-foreground\" />\n                  </Button>\n                </DropdownMenuTrigger>\n                <DropdownMenuContent align=\"end\" className=\"w-40\">\n                  {!template.isBuiltIn && (\n                    <>\n                      <DropdownMenuItem onClick={() => setIsEditOpen(true)}>\n                        <Edit className=\"mr-2 h-3.5 w-3.5\" /> Edit\n                      </DropdownMenuItem>\n                      <DropdownMenuSeparator />\n                    </>\n                  )}\n                  <DropdownMenuItem\n                    onClick={() => setIsDeleteOpen(true)}\n                    className=\"text-destructive focus:text-destructive\"\n                  >\n                    <Trash2 className=\"mr-2 h-3.5 w-3.5\" /> Delete\n                  </DropdownMenuItem>\n                </DropdownMenuContent>\n              </DropdownMenu>\n            </div>\n          </div>\n\n          <p className=\"line-clamp-2 text-sm text-muted-foreground/80 min-h-[3rem] leading-relaxed\">\n            {template.description || template.prompt}\n          </p>\n        </div>\n\n        <div className=\"mt-5 flex items-center justify-between border-t border-border/40 pt-4\">\n          <div className=\"flex items-center gap-2 text-[10px] text-muted-foreground/60 uppercase tracking-wider font-medium\">\n            <span>{template.usageCount} uses</span>\n          </div>\n\n          <Button\n            variant=\"ghost\"\n            size=\"sm\"\n            className=\"h-8 px-4 text-xs font-medium bg-secondary/50 hover:bg-primary/10 hover:text-primary transition-all ml-auto\"\n            onClick={handleUse}\n          >\n            <Copy className=\"mr-1.5 h-3 w-3\" />\n            Use Template\n          </Button>\n        </div>\n      </Card>\n\n      {!template.isBuiltIn && (\n        <Dialog open={isEditOpen} onOpenChange={setIsEditOpen}>\n          <DialogContent className=\"sm:max-w-2xl\">\n            <DialogHeader>\n              <DialogTitle>Edit Template</DialogTitle>\n            </DialogHeader>\n            <TemplateForm\n              template={template}\n              onSuccess={() => setIsEditOpen(false)}\n            />\n          </DialogContent>\n        </Dialog>\n      )}\n\n      <AlertDialog open={isDeleteOpen} onOpenChange={setIsDeleteOpen}>\n        <AlertDialogContent>\n          <AlertDialogHeader>\n            <AlertDialogTitle>\n              {template.isBuiltIn ? \"Remove Template\" : \"Delete Template\"}\n            </AlertDialogTitle>\n            <AlertDialogDescription>\n              {template.isBuiltIn\n                ? \"Are you sure you want to remove this built-in template from your view?\"\n                : \"Are you sure you want to delete this template? This action cannot be undone.\"}\n            </AlertDialogDescription>\n          </AlertDialogHeader>\n          <AlertDialogFooter>\n            <AlertDialogCancel>Cancel</AlertDialogCancel>\n            <AlertDialogAction\n              onClick={handleDelete}\n              className=\"bg-destructive hover:bg-destructive/90\"\n            >\n              {template.isBuiltIn ? \"Remove\" : \"Delete\"}\n            </AlertDialogAction>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n    </>\n  );\n}\n","\"use client\";\n\nimport { api } from \"@blah-chat/backend/convex/_generated/api\";\nimport type { Id } from \"@blah-chat/backend/convex/_generated/dataModel\";\nimport { useMutation } from \"convex/react\";\nimport { Loader2 } from \"lucide-react\";\nimport { useState } from \"react\";\nimport { toast } from \"sonner\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport { Textarea } from \"@/components/ui/textarea\";\n\ninterface TemplateFormProps {\n  template?: {\n    _id: Id<\"templates\">;\n    name: string;\n    prompt: string;\n    description?: string;\n    category: string;\n  };\n  onSuccess?: () => void;\n}\n\nconst CATEGORIES = [\"coding\", \"writing\", \"analysis\", \"creative\"];\n\nexport function TemplateForm({ template, onSuccess }: TemplateFormProps) {\n  const [name, setName] = useState(template?.name || \"\");\n  const [prompt, setPrompt] = useState(template?.prompt || \"\");\n  const [description, setDescription] = useState(template?.description || \"\");\n  const [category, setCategory] = useState(template?.category || \"coding\");\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  const createTemplate = useMutation(api.templates.create);\n  const updateTemplate = useMutation(api.templates.update);\n\n  const isEditing = !!template;\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!name.trim() || !prompt.trim()) {\n      toast.error(\"Name and prompt are required\");\n      return;\n    }\n\n    setIsSubmitting(true);\n    try {\n      if (isEditing) {\n        await updateTemplate({\n          id: template._id,\n          name: name.trim(),\n          prompt: prompt.trim(),\n          description: description.trim() || undefined,\n          category,\n        });\n        toast.success(\"Template updated\");\n      } else {\n        await createTemplate({\n          name: name.trim(),\n          prompt: prompt.trim(),\n          description: description.trim() || undefined,\n          category,\n        });\n        toast.success(\"Template created\");\n      }\n      onSuccess?.();\n    } catch (error) {\n      toast.error(`Failed to ${isEditing ? \"update\" : \"create\"} template`);\n      console.error(error);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className=\"space-y-4\">\n      <div>\n        <Label htmlFor=\"name\">Name *</Label>\n        <Input\n          id=\"name\"\n          value={name}\n          onChange={(e) => setName(e.target.value)}\n          placeholder=\"Code Reviewer\"\n          maxLength={100}\n          required\n        />\n      </div>\n\n      <div>\n        <Label htmlFor=\"category\">Category *</Label>\n        <Select value={category} onValueChange={setCategory}>\n          <SelectTrigger>\n            <SelectValue />\n          </SelectTrigger>\n          <SelectContent>\n            {CATEGORIES.map((cat: any) => (\n              <SelectItem key={cat} value={cat}>\n                {cat.charAt(0).toUpperCase() + cat.slice(1)}\n              </SelectItem>\n            ))}\n          </SelectContent>\n        </Select>\n      </div>\n\n      <div>\n        <Label htmlFor=\"description\">Description</Label>\n        <Textarea\n          id=\"description\"\n          value={description}\n          onChange={(e) => setDescription(e.target.value)}\n          placeholder=\"Quick description of what this template does...\"\n          maxLength={200}\n          rows={2}\n        />\n        <p className=\"text-xs text-muted-foreground mt-1\">\n          {description.length}/200 characters\n        </p>\n      </div>\n\n      <div>\n        <Label htmlFor=\"prompt\">Prompt *</Label>\n        <Textarea\n          id=\"prompt\"\n          value={prompt}\n          onChange={(e) => setPrompt(e.target.value)}\n          placeholder=\"You are an expert code reviewer. Focus on...\"\n          maxLength={5000}\n          rows={8}\n          required\n        />\n        <p className=\"text-xs text-muted-foreground mt-1\">\n          {prompt.length}/5000 characters\n        </p>\n      </div>\n\n      <div className=\"flex gap-2 justify-end\">\n        <Button type=\"submit\" disabled={isSubmitting}>\n          {isSubmitting ? (\n            <>\n              <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n              {isEditing ? \"Updating...\" : \"Creating...\"}\n            </>\n          ) : (\n            <>{isEditing ? \"Update\" : \"Create\"} Template</>\n          )}\n        </Button>\n      </div>\n    </form>\n  );\n}\n"],"names":[],"mappings":"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"}