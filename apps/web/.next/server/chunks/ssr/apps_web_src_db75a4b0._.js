module.exports=[117175,a=>{"use strict";let b;var c=a.i(537500);let d=a=>{let b,c=new Set,d=(a,d)=>{let e="function"==typeof a?a(b):a;if(!Object.is(e,b)){let a=b;b=(null!=d?d:"object"!=typeof e||null===e)?e:Object.assign({},b,e),c.forEach(c=>c(b,a))}},e=()=>b,f={setState:d,getState:e,getInitialState:()=>g,subscribe:a=>(c.add(a),()=>c.delete(a))},g=b=a(d,e,f);return f},e=a=>{let b=a?d(a):d,e=a=>(function(a,b=a=>a){let d=c.default.useSyncExternalStore(a.subscribe,c.default.useCallback(()=>b(a.getState()),[a,b]),c.default.useCallback(()=>b(a.getInitialState()),[a,b]));return c.default.useDebugValue(d),d})(b,a);return Object.assign(e,b),e},f=(b=(a,b)=>({pendingTemplateText:null,pendingTemplateName:null,setTemplateText:(b,c)=>{a({pendingTemplateText:b,pendingTemplateName:c||null})},consumeTemplateText:()=>{let{pendingTemplateText:c,pendingTemplateName:d}=b();return c?(a({pendingTemplateText:null,pendingTemplateName:null}),{text:c,name:d||"Template"}):null},clear:()=>{a({pendingTemplateText:null,pendingTemplateName:null})}}))?e(b):e;a.s(["useTemplateStore",0,f],117175)},174596,a=>{"use strict";var b=a.i(367146),c=a.i(452309),d=a.i(700760);function e({chatWidth:a="standard"}){let e=(0,d.cn)("relative rounded-[2rem] rounded-tr-sm","px-5 py-3 sm:px-6 sm:py-4 text-sm sm:text-base leading-relaxed","bg-primary/5","border border-primary/10"),f=(0,d.cn)("relative rounded-[2rem] rounded-tl-sm","px-5 py-3 sm:px-6 sm:py-4 text-sm sm:text-base leading-relaxed","bg-muted/30 border border-border/30");return(0,b.jsx)("div",{className:"flex-1 w-full min-w-0 relative flex flex-col overflow-hidden",children:(0,b.jsx)("div",{className:"flex-1 w-full min-w-0 overflow-y-auto relative",style:{contain:"layout style paint",contentVisibility:"auto"},children:(0,b.jsx)("div",{className:(0,d.cn)("grid gap-4 p-4 transition-all duration-300 ease-out","narrow"===a&&"grid-cols-[1fr_min(42rem,100%)_1fr]","standard"===a&&"grid-cols-[1fr_min(56rem,100%)_1fr]","wide"===a&&"grid-cols-[1fr_min(72rem,100%)_1fr]","full"===a&&"grid-cols-[1fr_min(95%,100%)_1fr]",!a&&"grid-cols-[1fr_min(56rem,100%)_1fr]"),children:[{isUser:!0,lines:[{width:"w-24"},{width:"w-40"}]},{isUser:!1,lines:[{width:"w-48"},{width:"w-72 sm:w-96"},{width:"w-56"}]},{isUser:!0,lines:[{width:"w-32"}]},{isUser:!1,lines:[{width:"w-64"},{width:"w-80 sm:w-[400px]"}]}].map((a,g)=>(0,b.jsx)("div",{className:(0,d.cn)("col-start-2 flex w-full mb-10",a.isUser?"justify-end":"justify-start"),children:(0,b.jsx)("div",{className:a.isUser?"relative group ml-auto max-w-[90%] sm:max-w-[75%]":"relative group mr-auto max-w-[95%] sm:max-w-[85%]",children:(0,b.jsx)("div",{className:a.isUser?e:f,children:(0,b.jsx)("div",{className:"space-y-2",children:a.lines.map((e,f)=>(0,b.jsx)(c.Skeleton,{className:(0,d.cn)("h-4",e.width,a.isUser&&"ml-auto")},f))})})})},g))})})})}a.s(["MessageListSkeleton",()=>e])},144164,a=>{"use strict";var b=a.i(367146),c=a.i(130487);a.i(16243);var d=a.i(843886),e=a.i(273526),f=a.i(182234),g=a.i(502311),h=a.i(537500),i=a.i(174596),j=a.i(332532),k=a.i(26968),l=a.i(638600),m=a.i(117175);function n(){let a=(0,g.useRouter)(),n=(0,g.useSearchParams)(),{isAuthenticated:o,isLoading:p}=(0,e.useConvexAuth)(),{startNewChat:q}=(0,j.useNewChat)(),{newChatModel:r}=(0,k.useNewChatModel)(),s=(0,h.useRef)(!1),t=(0,m.useTemplateStore)(a=>a.consumeTemplateText),u=(0,f.useMutation)(c.api.conversations.create),v="template"===n.get("from");return(0,h.useEffect)(()=>{p||o||a.push("/sign-in")},[p,o,a]),(0,h.useEffect)(()=>{p||!o||!v||s.current||(s.current=!0,(async()=>{let b=t();if(!b)return q();try{let c=await u({model:r,title:b.name||"New Chat"});l.analytics.track("template_used",{templateId:"from-store",templateName:b.name,conversationId:c}),sessionStorage.setItem("pending-template-text",b.text),a.replace(`/chat/${c}?insertTemplate=true`)}catch(a){console.error("Failed to create chat with template:",a),q()}})())},[p,o,v,t,u,r,a,q]),(0,h.useEffect)(()=>{p||!o||v||s.current||(s.current=!0,q())},[o,p,v,q]),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(d.Authenticated,{children:(0,b.jsx)(i.MessageListSkeleton,{})}),(0,b.jsx)(d.Unauthenticated,{children:(0,b.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,b.jsx)("p",{className:"text-muted-foreground",children:"Redirecting to sign in..."})})})]})}function o(){return(0,b.jsx)(h.Suspense,{fallback:(0,b.jsx)(i.MessageListSkeleton,{}),children:(0,b.jsx)(n,{})})}a.s(["default",()=>o])}];

//# sourceMappingURL=apps_web_src_db75a4b0._.js.map