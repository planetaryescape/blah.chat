(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,899920,e=>{"use strict";let i=(0,e.i(755430).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>i],899920)},744739,e=>{"use strict";let i=(0,e.i(755430).default)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);e.s(["BarChart3",()=>i],744739)},785211,e=>{"use strict";var i=e.i(379492),s=e.i(283164);e.i(977101);var a=e.i(260449),r=e.i(727630),n=e.i(430387),t=e.i(384078),l=e.i(882017),d=e.i(662043),c=e.i(899920),o=e.i(744739),h=e.i(134092),x=e.i(982663),u=e.i(770720),m=e.i(760911),p=e.i(642689),f=e.i(390073),b=e.i(24079);let j=[{icon:h.MessageSquare,label:"Feedback",href:"/admin/feedback"},{icon:u.Users,label:"Users",href:"/admin/users"},{icon:x.Settings,label:"Settings",href:"/admin/settings"},{icon:o.BarChart3,label:"Usage",href:"/admin/usage"}];function g(){let e=(0,n.usePathname)();return(0,i.jsxs)(b.Sidebar,{collapsible:"icon",role:"navigation","aria-label":"Admin navigation",children:[(0,i.jsx)(b.SidebarHeader,{className:"pt-6 px-4 group-data-[collapsible=icon]:px-2",children:(0,i.jsxs)("div",{className:"flex items-center justify-between px-2 group-data-[collapsible=icon]:px-0 group-data-[collapsible=icon]:justify-center",children:[(0,i.jsx)(m.default,{href:"/admin/feedback",className:"hidden group-data-[collapsible=icon]:hidden sm:block hover:opacity-80 transition-opacity",children:(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(p.Logo,{size:"sm",showText:!1}),(0,i.jsx)("span",{className:"font-semibold text-sm",children:"Admin"})]})}),(0,i.jsx)(m.default,{href:"/admin/feedback",className:"group-data-[collapsible=icon]:block hidden hover:opacity-80 transition-opacity",children:(0,i.jsx)(p.Logo,{size:"sm",showText:!1})}),(0,i.jsx)("div",{className:"sm:hidden",children:(0,i.jsx)(m.default,{href:"/admin/feedback",className:"hover:opacity-80 transition-opacity",children:(0,i.jsx)(p.Logo,{size:"sm",showText:!1})})})]})}),(0,i.jsx)(b.SidebarContent,{children:(0,i.jsxs)(b.SidebarGroup,{children:[(0,i.jsx)(b.SidebarGroupLabel,{children:"Admin Dashboard"}),(0,i.jsx)(b.SidebarGroupContent,{children:(0,i.jsx)(b.SidebarMenu,{children:j.map(s=>(0,i.jsx)(b.SidebarMenuItem,{children:(0,i.jsx)(b.SidebarMenuButton,{asChild:!0,tooltip:s.label,isActive:e===s.href,children:(0,i.jsxs)(m.default,{href:s.href,children:[(0,i.jsx)(s.icon,{className:"w-4 h-4"}),(0,i.jsx)("span",{children:s.label})]})})},s.href))})})]})}),(0,i.jsxs)(b.SidebarFooter,{className:"pb-4",children:[(0,i.jsx)(b.SidebarMenu,{children:(0,i.jsx)(b.SidebarMenuItem,{children:(0,i.jsx)(b.SidebarMenuButton,{asChild:!0,tooltip:"Back to App",children:(0,i.jsxs)(m.default,{href:"/app",className:"text-muted-foreground hover:text-foreground",children:[(0,i.jsx)(c.ArrowLeft,{className:"w-4 h-4"}),(0,i.jsx)("span",{children:"Back to App"})]})})})}),(0,i.jsx)("div",{className:"px-2 pt-2 group-data-[collapsible=icon]:hidden",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsx)(d.UserButton,{afterSignOutUrl:"/sign-in"}),(0,i.jsx)(f.ThemeSwitcher,{})]})}),(0,i.jsx)("div",{className:"hidden group-data-[collapsible=icon]:flex justify-center pt-2",children:(0,i.jsx)(d.UserButton,{afterSignOutUrl:"/sign-in"})})]})]})}function v({children:e}){let{isAuthenticated:d,isLoading:c}=(0,a.useConvexAuth)(),o=(0,r.useQuery)(s.api.admin.isCurrentUserAdmin),h=(0,n.useRouter)();return((0,t.useEffect)(()=>{c||d||h.push("/sign-in"),!c&&d&&!1===o&&h.push("/")},[d,c,o,h]),c||void 0===o)?(0,i.jsx)("div",{className:"flex h-screen items-center justify-center",children:(0,i.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):d&&o?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(g,{}),(0,i.jsxs)("main",{id:"admin-content",className:"flex-1 flex flex-col min-w-0 overflow-x-hidden overflow-y-hidden","aria-label":"Admin interface",children:[(0,i.jsxs)("header",{className:"flex h-14 shrink-0 items-center gap-2 border-b px-4",children:[(0,i.jsx)(b.SidebarTrigger,{}),(0,i.jsx)("h1",{className:"text-lg font-semibold",children:"Admin Dashboard"}),(0,i.jsx)("div",{className:"ml-auto",children:(0,i.jsx)(l.FeedbackButton,{})})]}),e]})]}):null}e.s(["default",()=>v],785211)}]);