(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,547500,e=>{"use strict";var t=e.i(379492),s=e.i(283164);e.i(977101);var r=e.i(727630),i=e.i(126312),a=e.i(430387),l=e.i(384078),o=e.i(799126),c=e.i(49275),n=e.i(985902),d=e.i(610012),u=e.i(173554),h=e.i(541247);function x({params:e}){let{id:x}=(0,l.use)(e),m=(0,a.useRouter)(),j=(0,r.useQuery)(s.api.projects.get,{id:x}),p=(0,r.useMutation)(s.api.projects.update),g=(0,r.useMutation)(s.api.projects.deleteProject),[b,v]=(0,l.useState)(""),[f,N]=(0,l.useState)(""),[y,A]=(0,l.useState)(""),[D,P]=(0,l.useState)(!1);!j||D||b||(v(j.name),N(j.description||""),A(j.systemPrompt||""));let C=async()=>{try{await p({id:x,name:b,description:f,systemPrompt:y}),o.toast.success("Project updated"),P(!1)}catch(e){o.toast.error("Failed to update project"),console.error(e)}},T=async()=>{try{await g({id:x}),o.toast.success("Project deleted"),m.push("/projects")}catch(e){o.toast.error("Failed to delete project"),console.error(e)}};return j?(0,t.jsxs)("div",{className:"flex flex-col h-full bg-background/50 backdrop-blur-xl max-w-2xl mx-auto w-full",children:[(0,t.jsxs)("header",{className:"p-6 border-b bg-background/40 mb-6",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold tracking-tight",children:"Project Settings"}),(0,t.jsx)("p",{className:"text-muted-foreground text-sm",children:"Manage your project configuration"})]}),(0,t.jsxs)("div",{className:"px-6 space-y-8 pb-10",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(u.Label,{htmlFor:"name",children:"Project Name"}),(0,t.jsx)(d.Input,{id:"name",value:b,onChange:e=>{v(e.target.value),P(!0)},placeholder:"e.g. Website Redesign"})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(u.Label,{htmlFor:"description",children:"Description"}),(0,t.jsx)(h.Textarea,{id:"description",value:f,onChange:e=>{N(e.target.value),P(!0)},placeholder:"Brief description of the project",className:"resize-none h-24"})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsxs)(u.Label,{htmlFor:"systemPrompt",children:["System Prompt"," ",(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:"(Optional)"})]}),(0,t.jsx)(h.Textarea,{id:"systemPrompt",value:y,onChange:e=>{A(e.target.value),P(!0)},placeholder:"Custom instructions for AI whenever working in this project context...",className:"resize-y h-32 font-mono text-sm"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"This prompt will be injected into AI context for chats linked to this project."})]}),(0,t.jsx)("div",{className:"pt-4 flex justify-end",children:(0,t.jsx)(n.Button,{onClick:C,disabled:!D,children:"Save Changes"})})]}),(0,t.jsxs)("div",{className:"border-t pt-8",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-destructive mb-4",children:"Danger Zone"}),(0,t.jsxs)("div",{className:"bg-destructive/10 border border-destructive/20 rounded-lg p-4 flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-destructive",children:"Delete Project"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Permanently delete this project and all its data."})]}),(0,t.jsxs)(c.AlertDialog,{children:[(0,t.jsx)(c.AlertDialogTrigger,{asChild:!0,children:(0,t.jsxs)(n.Button,{variant:"destructive",children:[(0,t.jsx)(i.Trash2,{className:"mr-2 h-4 w-4"}),"Delete Project"]})}),(0,t.jsxs)(c.AlertDialogContent,{children:[(0,t.jsxs)(c.AlertDialogHeader,{children:[(0,t.jsx)(c.AlertDialogTitle,{children:"Are you absolutely sure?"}),(0,t.jsxs)(c.AlertDialogDescription,{children:["This action cannot be undone. This will permanently delete the project ",(0,t.jsx)("strong",{children:j.name})," and remove all associations. tasks, notes, and files will remain but be unlinked."]})]}),(0,t.jsxs)(c.AlertDialogFooter,{children:[(0,t.jsx)(c.AlertDialogCancel,{children:"Cancel"}),(0,t.jsx)(c.AlertDialogAction,{onClick:T,className:"bg-destructive hover:bg-destructive/90",children:"Delete Project"})]})]})]})]})]})]})]}):(0,t.jsx)("div",{className:"p-8",children:"Loading..."})}e.s(["default",()=>x])}]);