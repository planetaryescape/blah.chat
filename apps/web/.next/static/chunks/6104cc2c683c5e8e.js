(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,70779,e=>{"use strict";var t=e.i(384078),n=e.i(662122);function i(e,t,n){let i,s=n.initialDeps??[],r=!0;function a(){var a,o,l;let d,u;n.key&&(null==(a=n.debug)?void 0:a.call(n))&&(d=Date.now());let c=e();if(!(c.length!==s.length||c.some((e,t)=>s[t]!==e)))return i;if(s=c,n.key&&(null==(o=n.debug)?void 0:o.call(n))&&(u=Date.now()),i=t(...c),n.key&&(null==(l=n.debug)?void 0:l.call(n))){let e=Math.round((Date.now()-d)*100)/100,t=Math.round((Date.now()-u)*100)/100,i=t/16,s=(e,t)=>{for(e=String(e);e.length<t;)e=" "+e;return e};console.info(`%câ± ${s(t,5)} /${s(e,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*i,120))}deg 100% 31%);`,null==n?void 0:n.key)}return(null==n?void 0:n.onChange)&&!(r&&n.skipInitialOnChange)&&n.onChange(i),r=!1,i}return a.updateDeps=e=>{s=e},a}function s(e,t){if(void 0!==e)return e;throw Error(`Unexpected undefined${t?`: ${t}`:""}`)}e.i(708883);let r=e=>{let{offsetWidth:t,offsetHeight:n}=e;return{width:t,height:n}},a=e=>e,o=e=>{let t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),i=[];for(let e=t;e<=n;e++)i.push(e);return i},l=(e,t)=>{let n=e.scrollElement;if(!n)return;let i=e.targetWindow;if(!i)return;let s=e=>{let{width:n,height:i}=e;t({width:Math.round(n),height:Math.round(i)})};if(s(r(n)),!i.ResizeObserver)return()=>{};let a=new i.ResizeObserver(t=>{let i=()=>{let e=t[0];if(null==e?void 0:e.borderBoxSize){let t=e.borderBoxSize[0];if(t)return void s({width:t.inlineSize,height:t.blockSize})}s(r(n))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(i):i()});return a.observe(n,{box:"border-box"}),()=>{a.unobserve(n)}},d={passive:!0},u="undefined"==typeof window||"onscrollend"in window,c=(e,t)=>{var n,i;let s,r=e.scrollElement;if(!r)return;let a=e.targetWindow;if(!a)return;let o=0,l=e.options.useScrollendEvent&&u?()=>void 0:(n=()=>{t(o,!1)},i=e.options.isScrollingResetDelay,function(...e){a.clearTimeout(s),s=a.setTimeout(()=>n.apply(this,e),i)}),c=n=>()=>{let{horizontal:i,isRtl:s}=e.options;o=i?r.scrollLeft*(s&&-1||1):r.scrollTop,l(),t(o,n)},h=c(!0),m=c(!1);m(),r.addEventListener("scroll",h,d);let f=e.options.useScrollendEvent&&u;return f&&r.addEventListener("scrollend",m,d),()=>{r.removeEventListener("scroll",h),f&&r.removeEventListener("scrollend",m)}},h=(e,t,n)=>{if(null==t?void 0:t.borderBoxSize){let e=t.borderBoxSize[0];if(e)return Math.round(e[n.options.horizontal?"inlineSize":"blockSize"])}return e[n.options.horizontal?"offsetWidth":"offsetHeight"]},m=(e,{adjustments:t=0,behavior:n},i)=>{var s,r;null==(r=null==(s=i.scrollElement)?void 0:s.scrollTo)||r.call(s,{[i.options.horizontal?"left":"top"]:e+t,behavior:n})};class f{constructor(e){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.laneAssignments=new Map,this.pendingMeasuredCacheIndexes=[],this.prevLanes=void 0,this.lanesChangedFlag=!1,this.lanesSettling=!1,this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let e=null,t=()=>e||(this.targetWindow&&this.targetWindow.ResizeObserver?e=new this.targetWindow.ResizeObserver(e=>{e.forEach(e=>{let t=()=>{this._measureElement(e.target,e)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(t):t()})}):null);return{disconnect:()=>{var n;null==(n=t())||n.disconnect(),e=null},observe:e=>{var n;return null==(n=t())?void 0:n.observe(e,{box:"border-box"})},unobserve:e=>{var n;return null==(n=t())?void 0:n.unobserve(e)}}})(),this.range=null,this.setOptions=e=>{Object.entries(e).forEach(([t,n])=>{void 0===n&&delete e[t]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:a,rangeExtractor:o,onChange:()=>{},measureElement:h,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...e}},this.notify=e=>{var t,n;null==(n=(t=this.options).onChange)||n.call(t,this,e)},this.maybeNotify=i(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),e=>{this.notify(e)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(e=>e()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var e;let t=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==t){if(this.cleanup(),!t)return void this.maybeNotify();this.scrollElement=t,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=(null==(e=this.scrollElement)?void 0:e.window)??null,this.elementsCache.forEach(e=>{this.observer.observe(e)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,e=>{this.scrollRect=e,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(e,t)=>{this.scrollAdjustments=0,this.scrollDirection=t?this.getScrollOffset()<e?"forward":"backward":null,this.scrollOffset=e,this.isScrolling=t,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??("function"==typeof this.options.initialOffset?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(e,t)=>{let n=new Map,i=new Map;for(let s=t-1;s>=0;s--){let t=e[s];if(n.has(t.lane))continue;let r=i.get(t.lane);if(null==r||t.end>r.end?i.set(t.lane,t):t.end<r.end&&n.set(t.lane,!0),n.size===this.options.lanes)break}return i.size===this.options.lanes?Array.from(i.values()).sort((e,t)=>e.end===t.end?e.index-t.index:e.end-t.end)[0]:void 0},this.getMeasurementOptions=i(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled,this.options.lanes],(e,t,n,i,s,r)=>(void 0!==this.prevLanes&&this.prevLanes!==r&&(this.lanesChangedFlag=!0),this.prevLanes=r,this.pendingMeasuredCacheIndexes=[],{count:e,paddingStart:t,scrollMargin:n,getItemKey:i,enabled:s,lanes:r}),{key:!1,skipInitialOnChange:!0,onChange:()=>{this.notify(this.isScrolling)}}),this.getMeasurements=i(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:e,paddingStart:t,scrollMargin:n,getItemKey:i,enabled:s,lanes:r},a)=>{if(!s)return this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),[];if(this.laneAssignments.size>e)for(let t of this.laneAssignments.keys())t>=e&&this.laneAssignments.delete(t);this.lanesChangedFlag&&(this.lanesChangedFlag=!1,this.lanesSettling=!0,this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),this.pendingMeasuredCacheIndexes=[]),0===this.measurementsCache.length&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(e=>{this.itemSizeCache.set(e.key,e.size)}));let o=this.lanesSettling?0:this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[],this.lanesSettling&&this.measurementsCache.length===e&&(this.lanesSettling=!1);let l=this.measurementsCache.slice(0,o),d=Array(r).fill(void 0);for(let e=0;e<o;e++){let t=l[e];t&&(d[t.lane]=e)}for(let s=o;s<e;s++){let e,r,o=i(s),u=this.laneAssignments.get(s);if(void 0!==u&&this.options.lanes>1){let i=d[e=u],s=void 0!==i?l[i]:void 0;r=s?s.end+this.options.gap:t+n}else{let i=1===this.options.lanes?l[s-1]:this.getFurthestMeasurement(l,s);r=i?i.end+this.options.gap:t+n,e=i?i.lane:s%this.options.lanes,this.options.lanes>1&&this.laneAssignments.set(s,e)}let c=a.get(o),h="number"==typeof c?c:this.options.estimateSize(s),m=r+h;l[s]={index:s,start:r,size:h,end:m,key:o,lane:e},d[e]=s}return this.measurementsCache=l,l},{key:!1,debug:()=>this.options.debug}),this.calculateRange=i(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(e,t,n,i)=>this.range=e.length>0&&t>0?function({measurements:e,outerSize:t,scrollOffset:n,lanes:i}){let s=e.length-1;if(e.length<=i)return{startIndex:0,endIndex:s};let r=g(0,s,t=>e[t].start,n),a=r;if(1===i)for(;a<s&&e[a].end<n+t;)a++;else if(i>1){let o=Array(i).fill(0);for(;a<s&&o.some(e=>e<n+t);){let t=e[a];o[t.lane]=t.end,a++}let l=Array(i).fill(n+t);for(;r>=0&&l.some(e=>e>=n);){let t=e[r];l[t.lane]=t.start,r--}r=Math.max(0,r-r%i),a=Math.min(s,a+(i-1-a%i))}return{startIndex:r,endIndex:a}}({measurements:e,outerSize:t,scrollOffset:n,lanes:i}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=i(()=>{let e=null,t=null,n=this.calculateRange();return n&&(e=n.startIndex,t=n.endIndex),this.maybeNotify.updateDeps([this.isScrolling,e,t]),[this.options.rangeExtractor,this.options.overscan,this.options.count,e,t]},(e,t,n,i,s)=>null===i||null===s?[]:e({startIndex:i,endIndex:s,overscan:t,count:n}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=e=>{let t=this.options.indexAttribute,n=e.getAttribute(t);return n?parseInt(n,10):(console.warn(`Missing attribute name '${t}={index}' on measured element.`),-1)},this._measureElement=(e,t)=>{let n=this.indexFromElement(e),i=this.measurementsCache[n];if(!i)return;let s=i.key,r=this.elementsCache.get(s);r!==e&&(r&&this.observer.unobserve(r),this.observer.observe(e),this.elementsCache.set(s,e)),e.isConnected&&this.resizeItem(n,this.options.measureElement(e,t,this))},this.resizeItem=(e,t)=>{let n=this.measurementsCache[e];if(!n)return;let i=t-(this.itemSizeCache.get(n.key)??n.size);0!==i&&((void 0!==this.shouldAdjustScrollPositionOnItemSizeChange?this.shouldAdjustScrollPositionOnItemSizeChange(n,i,this):n.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=i,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(n.index),this.itemSizeCache=new Map(this.itemSizeCache.set(n.key,t)),this.notify(!1))},this.measureElement=e=>{e?this._measureElement(e,void 0):this.elementsCache.forEach((e,t)=>{e.isConnected||(this.observer.unobserve(e),this.elementsCache.delete(t))})},this.getVirtualItems=i(()=>[this.getVirtualIndexes(),this.getMeasurements()],(e,t)=>{let n=[];for(let i=0,s=e.length;i<s;i++){let s=t[e[i]];n.push(s)}return n},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=e=>{let t=this.getMeasurements();if(0!==t.length)return s(t[g(0,t.length-1,e=>s(t[e]).start,e)])},this.getOffsetForAlignment=(e,t,n=0)=>{let i=this.getSize(),s=this.getScrollOffset();return"auto"===t&&(t=e>=s+i?"end":"start"),"center"===t?e+=(n-i)/2:"end"===t&&(e-=i),Math.max(Math.min(this.getTotalSize()+this.options.scrollMargin-i,e),0)},this.getOffsetForIndex=(e,t="auto")=>{e=Math.max(0,Math.min(e,this.options.count-1));let n=this.measurementsCache[e];if(!n)return;let i=this.getSize(),s=this.getScrollOffset();if("auto"===t)if(n.end>=s+i-this.options.scrollPaddingEnd)t="end";else{if(!(n.start<=s+this.options.scrollPaddingStart))return[s,t];t="start"}let r="end"===t?n.end+this.options.scrollPaddingEnd:n.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(r,t,n.size),t]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(e,{align:t="start",behavior:n}={})=>{"smooth"===n&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(e,t),{adjustments:void 0,behavior:n})},this.scrollToIndex=(e,{align:t="auto",behavior:n}={})=>{"smooth"===n&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),e=Math.max(0,Math.min(e,this.options.count-1));let i=0,s=t=>{if(!this.targetWindow)return;let i=this.getOffsetForIndex(e,t);if(!i)return void console.warn("Failed to get offset for index:",e);let[s,a]=i;this._scrollToOffset(s,{adjustments:void 0,behavior:n}),this.targetWindow.requestAnimationFrame(()=>{let t=this.getScrollOffset(),n=this.getOffsetForIndex(e,a);n?1.01>Math.abs(n[0]-t)||r(a):console.warn("Failed to get offset for index:",e)})},r=t=>{this.targetWindow&&(++i<10?this.targetWindow.requestAnimationFrame(()=>s(t)):console.warn(`Failed to scroll to index ${e} after 10 attempts.`))};s(t)},this.scrollBy=(e,{behavior:t}={})=>{"smooth"===t&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+e,{adjustments:void 0,behavior:t})},this.getTotalSize=()=>{var e;let t,n=this.getMeasurements();if(0===n.length)t=this.options.paddingStart;else if(1===this.options.lanes)t=(null==(e=n[n.length-1])?void 0:e.end)??0;else{let e=Array(this.options.lanes).fill(null),i=n.length-1;for(;i>=0&&e.some(e=>null===e);){let t=n[i];null===e[t.lane]&&(e[t.lane]=t.end),i--}t=Math.max(...e.filter(e=>null!==e))}return Math.max(t-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(e,{adjustments:t,behavior:n})=>{this.options.scrollToFn(e,{behavior:n,adjustments:t},this)},this.measure=()=>{this.itemSizeCache=new Map,this.laneAssignments=new Map,this.notify(!1)},this.setOptions(e)}}let g=(e,t,n,i)=>{for(;e<=t;){let s=(e+t)/2|0,r=n(s);if(r<i)e=s+1;else{if(!(r>i))return s;t=s-1}}return e>0?e-1:0},p="undefined"!=typeof document?t.useLayoutEffect:t.useEffect;function x(e){return function(e){let i=t.useReducer(()=>({}),{})[1],s={...e,onChange:(t,s)=>{var r;s?(0,n.flushSync)(i):i(),null==(r=e.onChange)||r.call(e,t,s)}},[r]=t.useState(()=>new f(s));return r.setOptions(s),p(()=>r._didMount(),[]),p(()=>r._willUpdate()),r}({observeElementRect:l,observeElementOffset:c,scrollToFn:m,...e})}e.s(["useVirtualizer",()=>x],70779)},244978,e=>{"use strict";var t=e.i(384078),n=e.i(379492);function i(e,s=[]){let r=[],a=()=>{let n=r.map(e=>t.createContext(e));return function(i){let s=i?.[e]||n;return t.useMemo(()=>({[`__scope${e}`]:{...i,[e]:s}}),[i,s])}};return a.scopeName=e,[function(i,s){let a=t.createContext(s);a.displayName=i+"Context";let o=r.length;r=[...r,s];let l=i=>{let{scope:s,children:r,...l}=i,d=s?.[e]?.[o]||a,u=t.useMemo(()=>l,Object.values(l));return(0,n.jsx)(d.Provider,{value:u,children:r})};return l.displayName=i+"Provider",[l,function(n,r){let l=r?.[e]?.[o]||a,d=t.useContext(l);if(d)return d;if(void 0!==s)return s;throw Error(`\`${n}\` must be used within \`${i}\``)}]},function(...e){let n=e[0];if(1===e.length)return n;let i=()=>{let i=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let s=i.reduce((t,{useScope:n,scopeName:i})=>{let s=n(e)[`__scope${i}`];return{...t,...s}},{});return t.useMemo(()=>({[`__scope${n.scopeName}`]:s}),[s])}};return i.scopeName=n.scopeName,i}(a,...s)]}e.s(["createContextScope",()=>i])},565833,e=>{"use strict";var t=e.i(379492),n=e.i(384078),i=e.i(244978),s=e.i(600734),r=e.i(94753),a=e.i(311743),o=e.i(718315);function l(){return()=>{}}var d="Avatar",[u,c]=(0,i.createContextScope)(d),[h,m]=u(d),f=n.forwardRef((e,i)=>{let{__scopeAvatar:s,...r}=e,[o,l]=n.useState("idle");return(0,t.jsx)(h,{scope:s,imageLoadingStatus:o,onImageLoadingStatusChange:l,children:(0,t.jsx)(a.Primitive.span,{...r,ref:i})})});f.displayName=d;var g="AvatarImage",p=n.forwardRef((e,i)=>{let{__scopeAvatar:d,src:u,onLoadingStatusChange:c=()=>{},...h}=e,f=m(g,d),p=function(e,{referrerPolicy:t,crossOrigin:i}){let s=(0,o.useSyncExternalStore)(l,()=>!0,()=>!1),a=n.useRef(null),d=s?(a.current||(a.current=new window.Image),a.current):null,[u,c]=n.useState(()=>b(d,e));return(0,r.useLayoutEffect)(()=>{c(b(d,e))},[d,e]),(0,r.useLayoutEffect)(()=>{let e=e=>()=>{c(e)};if(!d)return;let n=e("loaded"),s=e("error");return d.addEventListener("load",n),d.addEventListener("error",s),t&&(d.referrerPolicy=t),"string"==typeof i&&(d.crossOrigin=i),()=>{d.removeEventListener("load",n),d.removeEventListener("error",s)}},[d,i,t]),u}(u,h),x=(0,s.useCallbackRef)(e=>{c(e),f.onImageLoadingStatusChange(e)});return(0,r.useLayoutEffect)(()=>{"idle"!==p&&x(p)},[p,x]),"loaded"===p?(0,t.jsx)(a.Primitive.img,{...h,ref:i,src:u}):null});p.displayName=g;var x="AvatarFallback",v=n.forwardRef((e,i)=>{let{__scopeAvatar:s,delayMs:r,...o}=e,l=m(x,s),[d,u]=n.useState(void 0===r);return n.useEffect(()=>{if(void 0!==r){let e=window.setTimeout(()=>u(!0),r);return()=>window.clearTimeout(e)}},[r]),d&&"loaded"!==l.imageLoadingStatus?(0,t.jsx)(a.Primitive.span,{...o,ref:i}):null});function b(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}v.displayName=x;var w=e.i(152088);function y({className:e,...n}){return(0,t.jsx)(f,{"data-slot":"avatar",className:(0,w.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...n})}function S({className:e,...n}){return(0,t.jsx)(p,{"data-slot":"avatar-image",className:(0,w.cn)("aspect-square size-full",e),...n})}function M({className:e,...n}){return(0,t.jsx)(v,{"data-slot":"avatar-fallback",className:(0,w.cn)("bg-muted flex size-full items-center justify-center rounded-full",e),...n})}e.s(["Avatar",()=>y,"AvatarFallback",()=>M,"AvatarImage",()=>S],565833)},560532,e=>{"use strict";let t=(0,e.i(755430).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",()=>t],560532)},982087,e=>{"use strict";var t=e.i(919528),n=e.i(98810),i=e.i(915092),s=e.i(195325),r=e.i(650496),a=e.i(982579);function o(e,t){let n=(0,a.toDate)(e,t?.in);return n.setHours(0,0,0,0),n}function l(e,t){let i=(0,n.getDefaultOptions)(),s=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0,r=(0,a.toDate)(e,t?.in),o=r.getDay();return r.setDate(r.getDate()-(7*(o<s)+o-s)),r.setHours(0,0,0,0),r}function d(e,t){return l(e,{...t,weekStartsOn:1})}var u=e.i(134955);function c(e,t){let n=(0,a.toDate)(e,t?.in),i=n.getFullYear(),s=(0,u.constructFrom)(n,0);s.setFullYear(i+1,0,4),s.setHours(0,0,0,0);let r=d(s),o=(0,u.constructFrom)(n,0);o.setFullYear(i,0,4),o.setHours(0,0,0,0);let l=d(o);return n.getTime()>=r.getTime()?i+1:n.getTime()>=l.getTime()?i:i-1}function h(e,t){let i=(0,a.toDate)(e,t?.in),s=i.getFullYear(),r=(0,n.getDefaultOptions)(),o=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,d=(0,u.constructFrom)(t?.in||e,0);d.setFullYear(s+1,0,o),d.setHours(0,0,0,0);let c=l(d,t),h=(0,u.constructFrom)(t?.in||e,0);h.setFullYear(s,0,o),h.setHours(0,0,0,0);let m=l(h,t);return+i>=+c?s+1:+i>=+m?s:s-1}function m(e,t){let n=Math.abs(e).toString().padStart(t,"0");return(e<0?"-":"")+n}let f={y(e,t){let n=e.getFullYear(),i=n>0?n:1-n;return m("yy"===t?i%100:i,t.length)},M(e,t){let n=e.getMonth();return"M"===t?String(n+1):m(n+1,2)},d:(e,t)=>m(e.getDate(),t.length),a(e,t){let n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>m(e.getHours()%12||12,t.length),H:(e,t)=>m(e.getHours(),t.length),m:(e,t)=>m(e.getMinutes(),t.length),s:(e,t)=>m(e.getSeconds(),t.length),S(e,t){let n=t.length;return m(Math.trunc(e.getMilliseconds()*Math.pow(10,n-3)),t.length)}},g={G:function(e,t,n){let i=+(e.getFullYear()>0);switch(t){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});default:return n.era(i,{width:"wide"})}},y:function(e,t,n){if("yo"===t){let t=e.getFullYear();return n.ordinalNumber(t>0?t:1-t,{unit:"year"})}return f.y(e,t)},Y:function(e,t,n,i){let s=h(e,i),r=s>0?s:1-s;return"YY"===t?m(r%100,2):"Yo"===t?n.ordinalNumber(r,{unit:"year"}):m(r,t.length)},R:function(e,t){return m(c(e),t.length)},u:function(e,t){return m(e.getFullYear(),t.length)},Q:function(e,t,n){let i=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return m(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,t,n){let i=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return m(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,t,n){let i=e.getMonth();switch(t){case"M":case"MM":return f.M(e,t);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(e,t,n){let i=e.getMonth();switch(t){case"L":return String(i+1);case"LL":return m(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(e,t,i,s){let o,d,c,f,g,p=Math.round((l(o=(0,a.toDate)(e,s?.in),s)-(d=(0,n.getDefaultOptions)(),c=s?.firstWeekContainsDate??s?.locale?.options?.firstWeekContainsDate??d.firstWeekContainsDate??d.locale?.options?.firstWeekContainsDate??1,f=h(o,s),(g=(0,u.constructFrom)(s?.in||o,0)).setFullYear(f,0,c),g.setHours(0,0,0,0),l(g,s)))/r.millisecondsInWeek)+1;return"wo"===t?i.ordinalNumber(p,{unit:"week"}):m(p,t.length)},I:function(e,t,n){let i,s,o,l=Math.round((d(i=(0,a.toDate)(e,void 0))-(s=c(i,void 0),(o=(0,u.constructFrom)(i,0)).setFullYear(s,0,4),o.setHours(0,0,0,0),d(o)))/r.millisecondsInWeek)+1;return"Io"===t?n.ordinalNumber(l,{unit:"week"}):m(l,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):f.d(e,t)},D:function(e,t,n){let l,d,u=function(e,t,n){let[a,l]=(0,s.normalizeDates)(void 0,e,t),d=o(a),u=o(l);return Math.round((d-(0,i.getTimezoneOffsetInMilliseconds)(d)-(u-(0,i.getTimezoneOffsetInMilliseconds)(u)))/r.millisecondsInDay)}(l=(0,a.toDate)(e,void 0),((d=(0,a.toDate)(l,void 0)).setFullYear(d.getFullYear(),0,1),d.setHours(0,0,0,0),d))+1;return"Do"===t?n.ordinalNumber(u,{unit:"dayOfYear"}):m(u,t.length)},E:function(e,t,n){let i=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(e,t,n,i){let s=e.getDay(),r=(s-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(r);case"ee":return m(r,2);case"eo":return n.ordinalNumber(r,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,i){let s=e.getDay(),r=(s-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(r);case"cc":return m(r,t.length);case"co":return n.ordinalNumber(r,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){let i=e.getDay(),s=0===i?7:i;switch(t){case"i":return String(s);case"ii":return m(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(e,t,n){let i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){let i,s=e.getHours();switch(i=12===s?"noon":0===s?"midnight":s/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){let i,s=e.getHours();switch(i=s>=17?"evening":s>=12?"afternoon":s>=4?"morning":"night",t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return f.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):f.H(e,t)},K:function(e,t,n){let i=e.getHours()%12;return"Ko"===t?n.ordinalNumber(i,{unit:"hour"}):m(i,t.length)},k:function(e,t,n){let i=e.getHours();return(0===i&&(i=24),"ko"===t)?n.ordinalNumber(i,{unit:"hour"}):m(i,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):f.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):f.s(e,t)},S:function(e,t){return f.S(e,t)},X:function(e,t,n){let i=e.getTimezoneOffset();if(0===i)return"Z";switch(t){case"X":return x(i);case"XXXX":case"XX":return v(i);default:return v(i,":")}},x:function(e,t,n){let i=e.getTimezoneOffset();switch(t){case"x":return x(i);case"xxxx":case"xx":return v(i);default:return v(i,":")}},O:function(e,t,n){let i=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+p(i,":");default:return"GMT"+v(i,":")}},z:function(e,t,n){let i=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+p(i,":");default:return"GMT"+v(i,":")}},t:function(e,t,n){return m(Math.trunc(e/1e3),t.length)},T:function(e,t,n){return m(+e,t.length)}};function p(e,t=""){let n=e>0?"-":"+",i=Math.abs(e),s=Math.trunc(i/60),r=i%60;return 0===r?n+String(s):n+String(s)+t+m(r,2)}function x(e,t){return e%60==0?(e>0?"-":"+")+m(Math.abs(e)/60,2):v(e,t)}function v(e,t=""){let n=Math.abs(e);return(e>0?"-":"+")+m(Math.trunc(n/60),2)+t+m(n%60,2)}let b=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},w=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},y={p:w,P:(e,t)=>{let n,i=e.match(/(P+)(p+)?/)||[],s=i[1],r=i[2];if(!r)return b(e,t);switch(s){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",b(s,t)).replace("{{time}}",w(r,t))}},S=/^D+$/,M=/^Y+$/,C=["D","DD","YY","YYYY"],j=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,N=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,k=/^'([^]*?)'?$/,D=/''/g,O=/[a-zA-Z]/;function z(e,i,s){let r=(0,n.getDefaultOptions)(),o=s?.locale??r.locale??t.defaultLocale,l=s?.firstWeekContainsDate??s?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,d=s?.weekStartsOn??s?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,u=(0,a.toDate)(e,s?.in);if(!(u instanceof Date||"object"==typeof u&&"[object Date]"===Object.prototype.toString.call(u))&&"number"!=typeof u||isNaN(+(0,a.toDate)(u)))throw RangeError("Invalid time value");let c=i.match(N).map(e=>{let t=e[0];return"p"===t||"P"===t?(0,y[t])(e,o.formatLong):e}).join("").match(j).map(e=>{if("''"===e)return{isToken:!1,value:"'"};let t=e[0];if("'"===t){var n;let t;return{isToken:!1,value:(t=(n=e).match(k))?t[1].replace(D,"'"):n}}if(g[t])return{isToken:!0,value:e};if(t.match(O))throw RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}});o.localize.preprocessor&&(c=o.localize.preprocessor(u,c));let h={firstWeekContainsDate:l,weekStartsOn:d,locale:o};return c.map(t=>{if(!t.isToken)return t.value;let n=t.value;return(!s?.useAdditionalWeekYearTokens&&M.test(n)||!s?.useAdditionalDayOfYearTokens&&S.test(n))&&function(e,t,n){var i,s,r;let a,o=(i=e,s=t,r=n,a="Y"===i[0]?"years":"days of the month",`Use \`${i.toLowerCase()}\` instead of \`${i}\` (in \`${s}\`) for formatting ${a} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`);if(console.warn(o),C.includes(e))throw RangeError(o)}(n,i,String(e)),(0,g[n[0]])(u,n,o.localize,h)}).join("")}e.s(["format",()=>z],982087)},214768,2146,e=>{"use strict";var t=e.i(379492),n=e.i(982087),i=e.i(560532),s=e.i(384078),r=e.i(985902),a=e.i(337837),o=e.i(152088),l=e.i(134955),d=e.i(982579);function u(e){return(0,n.format)(e,"yyyy-MM-dd")}function c(e=30){var t,n;let i,s=new Date;return{startDate:u((t=-e,n=void 0,i=(0,d.toDate)(s,n?.in),isNaN(t)?(0,l.constructFrom)(n?.in||s,NaN):(t&&i.setDate(i.getDate()+t),i))),endDate:u(s)}}function h(e,t=1){if(e<1e3)return e.toString();let n=Math.floor(Math.log10(e)/3),i=e/10**(3*n);return`${i.toFixed(t)}${["K","M","B","T"][n-1]}`}function m(e,t=2){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:t,maximumFractionDigits:t}).format(e)}e.s(["formatCompactNumber",()=>h,"formatCurrency",()=>m,"formatDateToISO",()=>u,"getLastNDays",()=>c],2146);let f={"7d":{label:"7 days",days:7},"30d":{label:"30 days",days:30},"90d":{label:"90 days",days:90}};function g({value:e,onChange:l,className:d}){let[h,m]=(0,s.useState)("30d"),[g,p]=(0,s.useState)(e.startDate),[x,v]=(0,s.useState)(e.endDate);(0,s.useEffect)(()=>{p(e.startDate),v(e.endDate)},[e]);let b=e=>{try{return(0,n.format)(new Date(e),"MMM d, yyyy")}catch{return e}};return(0,t.jsxs)("div",{className:(0,o.cn)("flex items-center gap-2",d),children:[Object.keys(f).map(e=>(0,t.jsx)(r.Button,{variant:h===e?"default":"outline",size:"sm",onClick:()=>{l(c(f[e].days)),m(e)},className:"min-w-[80px]",children:f[e].label},e)),(0,t.jsxs)(a.Popover,{children:[(0,t.jsx)(a.PopoverTrigger,{asChild:!0,children:(0,t.jsxs)(r.Button,{variant:null===h?"default":"outline",size:"sm",className:"min-w-[200px] justify-start text-left font-normal",children:[(0,t.jsx)(i.Calendar,{className:"mr-2 h-4 w-4"}),null===h?(0,t.jsxs)("span",{children:[b(e.startDate)," -"," ",b(e.endDate)]}):(0,t.jsx)("span",{className:"text-muted-foreground",children:"Custom"})]})}),(0,t.jsx)(a.PopoverContent,{className:"w-auto p-4",align:"end",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"start-date",className:"text-sm font-medium mb-2 block",children:"Start Date"}),(0,t.jsx)("input",{id:"start-date",type:"date",value:g,onChange:e=>p(e.target.value),max:x,className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"end-date",className:"text-sm font-medium mb-2 block",children:"End Date"}),(0,t.jsx)("input",{id:"end-date",type:"date",value:x,onChange:e=>v(e.target.value),min:g,max:u(new Date),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]}),(0,t.jsx)(r.Button,{onClick:()=>{l({startDate:g,endDate:x}),m(null)},className:"w-full",children:"Apply"})]})})]})]})}e.s(["DateRangePicker",()=>g],214768)},584228,e=>{"use strict";var t=e.i(379492),n=e.i(283164),i=e.i(890901),s=e.i(160607),r=e.i(70779);e.i(977101);var a=e.i(727630),o=e.i(975620),l=e.i(249700),d=e.i(265118),u=e.i(770720),c=e.i(430387),h=e.i(384078),m=e.i(799126),f=e.i(214768),g=e.i(565833),p=e.i(907347),x=e.i(985902),v=e.i(680707),b=e.i(890042),w=e.i(632555),y=e.i(2146);function S(){return(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsx)(b.Skeleton,{className:"h-8 w-48"}),(0,t.jsx)("div",{className:"space-y-2",children:[void 0,void 0,void 0,void 0,void 0].map((e,n)=>(0,t.jsx)(b.Skeleton,{className:"h-16 w-full"},n))})]})}function M(){let e=(0,c.useRouter)(),b=(0,a.useMutation)(n.api.admin.updateUserRole),M=(0,a.useMutation)(n.api.admin.updateUserTier),[C,j]=(0,h.useState)(()=>(0,y.getLastNDays)(30)),[N,k]=(0,h.useState)([{id:"totalSpent",desc:!0}]),[D,O]=(0,h.useState)({pageIndex:0,pageSize:50}),z=(0,h.useRef)(null),E=(0,a.useQuery)(n.api.admin.listUsers),T=(0,a.useQuery)(n.api.usage.queries.getAllUsersUsageSummary,{startDate:C.startDate,endDate:C.endDate}),P=(0,h.useCallback)(async(e,t)=>{try{await b({userId:e,isAdmin:t}),m.toast.success(t?"Admin role granted":"Admin role revoked")}catch(e){m.toast.error(e.message||"Failed to update role")}},[b]),F=(0,h.useCallback)(async(e,t)=>{try{await M({userId:e,tier:t}),m.toast.success(`User tier updated to ${t}`)}catch(e){m.toast.error(e.message||"Failed to update tier")}},[M]),I=(0,h.useMemo)(()=>{if(!E||!T)return[];let e=new Map(T.map(e=>[e.userId,e]));return E.map(t=>({...t,tier:t.tier,usage:e.get(t._id)||{totalCost:0,totalTokens:0,totalRequests:0}}))},[E,T]),A=(0,h.useMemo)(()=>[{id:"user",accessorFn:e=>e.name,header:"User",cell:({row:e})=>(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)(g.Avatar,{className:"h-8 w-8",children:[(0,t.jsx)(g.AvatarImage,{src:e.original.imageUrl||void 0,alt:e.original.name}),(0,t.jsx)(g.AvatarFallback,{children:e.original.name.charAt(0).toUpperCase()})]}),(0,t.jsx)("span",{className:"font-medium",children:e.original.name})]})},{accessorKey:"email",header:"Email",cell:({row:e})=>(0,t.jsx)("span",{className:"text-muted-foreground",children:e.original.email})},{accessorKey:"createdAt",header:"Joined",cell:({row:e})=>(0,t.jsx)("span",{className:"text-muted-foreground",children:(0,o.formatDistanceToNow)(e.original.createdAt,{addSuffix:!0})})},{id:"totalSpent",accessorFn:e=>e.usage.totalCost,header:({column:e})=>(0,t.jsxs)(x.Button,{variant:"ghost",className:"text-right w-full justify-end",onClick:()=>e.toggleSorting("asc"===e.getIsSorted()),children:["Total Spent",(0,t.jsx)(l.ArrowUpDown,{className:"ml-2 h-4 w-4"})]}),cell:({row:e})=>(0,t.jsx)("div",{className:"text-right font-medium",children:(0,y.formatCurrency)(e.original.usage.totalCost)})},{id:"totalTokens",accessorFn:e=>e.usage.totalTokens,header:({column:e})=>(0,t.jsxs)(x.Button,{variant:"ghost",className:"text-right w-full justify-end",onClick:()=>e.toggleSorting("asc"===e.getIsSorted()),children:["Total Tokens",(0,t.jsx)(l.ArrowUpDown,{className:"ml-2 h-4 w-4"})]}),cell:({row:e})=>(0,t.jsx)("div",{className:"text-right font-medium",children:(0,y.formatCompactNumber)(e.original.usage.totalTokens)})},{id:"admin",header:()=>(0,t.jsx)("div",{className:"text-right",children:"Admin"}),cell:({row:e})=>(0,t.jsxs)("div",{className:"flex items-center justify-end gap-2",onClick:e=>e.stopPropagation(),children:[e.original.isAdmin&&(0,t.jsx)(d.Shield,{className:"h-4 w-4 text-primary"}),(0,t.jsx)(w.Switch,{checked:e.original.isAdmin,onCheckedChange:t=>P(e.original._id,t)})]})},{id:"tier",header:()=>(0,t.jsx)("div",{className:"text-right",children:"Tier"}),cell:({row:e})=>(0,t.jsx)("div",{className:"flex items-center justify-end",onClick:e=>e.stopPropagation(),children:(0,t.jsxs)(v.Select,{value:e.original.tier||"free",onValueChange:t=>F(e.original._id,t),children:[(0,t.jsx)(v.SelectTrigger,{className:"w-24 h-8",children:(0,t.jsx)(v.SelectValue,{})}),(0,t.jsxs)(v.SelectContent,{children:[(0,t.jsx)(v.SelectItem,{value:"free",children:"Free"}),(0,t.jsx)(v.SelectItem,{value:"tier1",children:"Tier 1"}),(0,t.jsx)(v.SelectItem,{value:"tier2",children:"Tier 2"})]})]})})}],[P,F]),R=(0,i.useReactTable)({data:I,columns:A,state:{sorting:N,pagination:D},onSortingChange:k,onPaginationChange:O,getCoreRowModel:(0,s.getCoreRowModel)(),getSortedRowModel:(0,s.getSortedRowModel)(),getPaginationRowModel:(0,s.getPaginationRowModel)(),manualPagination:!1}),L=R.getRowModel().rows,W=L.length>50,Y=(0,h.useCallback)(()=>73,[]),q=(0,r.useVirtualizer)({count:L.length,getScrollElement:()=>z.current,estimateSize:Y,overscan:10,enabled:W});return E&&T?(0,t.jsxs)("div",{className:"h-[calc(100vh-theme(spacing.16))] flex flex-col overflow-hidden",children:[(0,t.jsxs)("div",{className:"flex-shrink-0 px-6 pt-6 space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(u.Users,{className:"h-6 w-6"}),(0,t.jsx)("h1",{className:"text-2xl font-semibold",children:"User Management"})]}),(0,t.jsxs)(p.Badge,{variant:"secondary",children:[E.length," users"]})]}),(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsx)(f.DateRangePicker,{value:C,onChange:j})})]}),(0,t.jsx)("div",{className:"flex-1 flex flex-col min-h-0 px-6 pb-0",children:(0,t.jsx)("div",{className:"border rounded-lg flex-1 flex flex-col min-h-0 overflow-hidden",children:W?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"flex-shrink-0 sticky top-0 z-10 bg-background border-b",children:R.getHeaderGroups().map(e=>(0,t.jsx)("div",{className:"flex",children:e.headers.map(e=>(0,t.jsx)("div",{className:"flex-1 px-4 py-3 text-sm font-medium",style:{width:e.getSize()},children:e.isPlaceholder?null:(0,i.flexRender)(e.column.columnDef.header,e.getContext())},e.id))},e.id))}),(0,t.jsx)("div",{ref:z,className:"flex-1 overflow-auto relative",children:(0,t.jsx)("div",{style:{height:`${q.getTotalSize()}px`,position:"relative"},children:q.getVirtualItems().map(n=>{let s=L[n.index];return(0,t.jsx)("div",{"data-index":n.index,ref:q.measureElement,className:"flex cursor-pointer hover:bg-muted/50 border-b absolute left-0 w-full",style:{transform:`translateY(${n.start}px)`},onClick:()=>e.push(`/admin/users/${s.original._id}`),children:s.getVisibleCells().map(e=>(0,t.jsx)("div",{className:"flex-1 px-4 py-3",style:{width:e.column.getSize()},children:(0,i.flexRender)(e.column.columnDef.cell,e.getContext())},e.id))},s.id)})})})]}):(0,t.jsx)("div",{className:"flex-1 overflow-auto",children:(0,t.jsxs)("table",{className:"w-full caption-bottom text-sm",children:[(0,t.jsx)("thead",{className:"[&_tr]:border-b",children:R.getHeaderGroups().map(e=>(0,t.jsx)("tr",{className:"border-b",children:e.headers.map(e=>(0,t.jsx)("th",{className:"sticky top-0 bg-background z-10 h-10 px-4 text-left align-middle font-medium text-muted-foreground",children:e.isPlaceholder?null:(0,i.flexRender)(e.column.columnDef.header,e.getContext())},e.id))},e.id))}),(0,t.jsx)("tbody",{className:"[&_tr:last-child]:border-0",children:R.getRowModel().rows.length?R.getRowModel().rows.map(n=>(0,t.jsx)("tr",{className:"border-b cursor-pointer hover:bg-muted/50",onClick:()=>e.push(`/admin/users/${n.original._id}`),children:n.getVisibleCells().map(e=>(0,t.jsx)("td",{className:"p-4 align-middle",children:(0,i.flexRender)(e.column.columnDef.cell,e.getContext())},e.id))},n.id)):(0,t.jsx)("tr",{className:"border-b",children:(0,t.jsx)("td",{colSpan:A.length,className:"h-24 text-center p-4 align-middle",children:"No users found."})})})]})})})}),(0,t.jsx)("div",{className:"flex-shrink-0 px-6 pb-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Showing ",R.getRowModel().rows.length," of ",I.length," ","users"]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(x.Button,{variant:"outline",size:"sm",onClick:()=>R.previousPage(),disabled:!R.getCanPreviousPage(),children:"Previous"}),(0,t.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Page ",R.getState().pagination.pageIndex+1," of"," ",R.getPageCount()]}),(0,t.jsx)(x.Button,{variant:"outline",size:"sm",onClick:()=>R.nextPage(),disabled:!R.getCanNextPage(),children:"Next"}),(0,t.jsx)("select",{value:D.pageSize,onChange:e=>R.setPageSize(Number(e.target.value)),className:"h-8 rounded-md border border-input bg-background px-3 text-sm",children:[20,50,100].map(e=>(0,t.jsxs)("option",{value:e,children:[e," per page"]},e))})]})]})})]}):(0,t.jsx)(S,{})}function C(){return(0,t.jsx)(h.Suspense,{fallback:(0,t.jsx)(S,{}),children:(0,t.jsx)(M,{})})}e.s(["default",()=>C])}]);